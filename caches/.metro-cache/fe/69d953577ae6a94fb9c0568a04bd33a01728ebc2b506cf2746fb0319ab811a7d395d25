{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"./ListMetricsAggregator","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":14,"column":0},"end":{"line":14,"column":60}}],"key":"+LsZXRWRdDHi7URH4twavK8owRs=","exportNames":["*"],"imports":1}},{"name":"invariant","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":18},"end":{"line":16,"column":38}}],"key":"oQpL0Es3H146KnQH9ygFeHrzVP4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  require(_dependencyMap[3], \"./ListMetricsAggregator\");\n  var invariant = require(_dependencyMap[4], \"invariant\");\n  var ViewabilityHelper = /*#__PURE__*/function () {\n    function ViewabilityHelper() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        viewAreaCoveragePercentThreshold: 0\n      };\n      (0, _classCallCheck.default)(this, ViewabilityHelper);\n      this._hasInteracted = false;\n      this._timers = new Set();\n      this._viewableIndices = [];\n      this._viewableItems = new Map();\n      this._config = config;\n    }\n    return (0, _createClass.default)(ViewabilityHelper, [{\n      key: \"dispose\",\n      value: function dispose() {\n        this._timers.forEach(clearTimeout);\n      }\n    }, {\n      key: \"computeViewableItems\",\n      value: function computeViewableItems(props, scrollOffset, viewportHeight, listMetrics, renderRange) {\n        var itemCount = props.getItemCount(props.data);\n        var _this$_config = this._config,\n          itemVisiblePercentThreshold = _this$_config.itemVisiblePercentThreshold,\n          viewAreaCoveragePercentThreshold = _this$_config.viewAreaCoveragePercentThreshold;\n        var viewAreaMode = viewAreaCoveragePercentThreshold != null;\n        var viewablePercentThreshold = viewAreaMode ? viewAreaCoveragePercentThreshold : itemVisiblePercentThreshold;\n        invariant(viewablePercentThreshold != null && itemVisiblePercentThreshold != null !== (viewAreaCoveragePercentThreshold != null), 'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');\n        var viewableIndices = [];\n        if (itemCount === 0) {\n          return viewableIndices;\n        }\n        var firstVisible = -1;\n        var _ref = renderRange || {\n            first: 0,\n            last: itemCount - 1\n          },\n          first = _ref.first,\n          last = _ref.last;\n        if (last >= itemCount) {\n          console.warn('Invalid render range computing viewability ' + JSON.stringify({\n            renderRange,\n            itemCount\n          }));\n          return [];\n        }\n        for (var idx = first; idx <= last; idx++) {\n          var metrics = listMetrics.getCellMetrics(idx, props);\n          if (!metrics) {\n            continue;\n          }\n          var top = Math.floor(metrics.offset - scrollOffset);\n          var bottom = Math.floor(top + metrics.length);\n          if (top < viewportHeight && bottom > 0) {\n            firstVisible = idx;\n            if (_isViewable(viewAreaMode, viewablePercentThreshold, top, bottom, viewportHeight, metrics.length)) {\n              viewableIndices.push(idx);\n            }\n          } else if (firstVisible >= 0) {\n            break;\n          }\n        }\n        return viewableIndices;\n      }\n    }, {\n      key: \"onUpdate\",\n      value: function onUpdate(props, scrollOffset, viewportHeight, listMetrics, createViewToken, onViewableItemsChanged, renderRange) {\n        var itemCount = props.getItemCount(props.data);\n        if (this._config.waitForInteraction && !this._hasInteracted || itemCount === 0 || !listMetrics.getCellMetrics(0, props)) {\n          return;\n        }\n        var viewableIndices = [];\n        if (itemCount) {\n          viewableIndices = this.computeViewableItems(props, scrollOffset, viewportHeight, listMetrics, renderRange);\n        }\n        if (this._viewableIndices.length === viewableIndices.length && this._viewableIndices.every((v, ii) => v === viewableIndices[ii])) {\n          return;\n        }\n        this._viewableIndices = viewableIndices;\n        if (this._config.minimumViewTime) {\n          var handle = setTimeout(() => {\n            this._timers.delete(handle);\n            this._onUpdateSync(props, viewableIndices, onViewableItemsChanged, createViewToken);\n          }, this._config.minimumViewTime);\n          this._timers.add(handle);\n        } else {\n          this._onUpdateSync(props, viewableIndices, onViewableItemsChanged, createViewToken);\n        }\n      }\n    }, {\n      key: \"resetViewableIndices\",\n      value: function resetViewableIndices() {\n        this._viewableIndices = [];\n      }\n    }, {\n      key: \"recordInteraction\",\n      value: function recordInteraction() {\n        this._hasInteracted = true;\n      }\n    }, {\n      key: \"_onUpdateSync\",\n      value: function _onUpdateSync(props, viewableIndicesToCheck, onViewableItemsChanged, createViewToken) {\n        viewableIndicesToCheck = viewableIndicesToCheck.filter(ii => this._viewableIndices.includes(ii));\n        var prevItems = this._viewableItems;\n        var nextItems = new Map(viewableIndicesToCheck.map(ii => {\n          var viewable = createViewToken(ii, true, props);\n          return [viewable.key, viewable];\n        }));\n        var changed = [];\n        for (var _ref2 of nextItems) {\n          var _ref3 = (0, _slicedToArray.default)(_ref2, 2);\n          var key = _ref3[0];\n          var viewable = _ref3[1];\n          if (!prevItems.has(key)) {\n            changed.push(viewable);\n          }\n        }\n        for (var _ref4 of prevItems) {\n          var _ref5 = (0, _slicedToArray.default)(_ref4, 2);\n          var _key = _ref5[0];\n          var _viewable = _ref5[1];\n          if (!nextItems.has(_key)) {\n            changed.push({\n              ..._viewable,\n              isViewable: false\n            });\n          }\n        }\n        if (changed.length > 0) {\n          this._viewableItems = nextItems;\n          onViewableItemsChanged({\n            viewableItems: Array.from(nextItems.values()),\n            changed,\n            viewabilityConfig: this._config\n          });\n        }\n      }\n    }]);\n  }();\n  function _isViewable(viewAreaMode, viewablePercentThreshold, top, bottom, viewportHeight, itemLength) {\n    if (_isEntirelyVisible(top, bottom, viewportHeight)) {\n      return true;\n    } else {\n      var pixels = _getPixelsVisible(top, bottom, viewportHeight);\n      var percent = 100 * (viewAreaMode ? pixels / viewportHeight : pixels / itemLength);\n      return percent >= viewablePercentThreshold;\n    }\n  }\n  function _getPixelsVisible(top, bottom, viewportHeight) {\n    var visibleHeight = Math.min(bottom, viewportHeight) - Math.max(top, 0);\n    return Math.max(0, visibleHeight);\n  }\n  function _isEntirelyVisible(top, bottom, viewportHeight) {\n    return top >= 0 && bottom <= viewportHeight && bottom > top;\n  }\n  module.exports = ViewabilityHelper;\n});","lineCount":172,"map":[[2,2,11,0],[2,14,11,12],[4,2,11,13],[4,11,11,13,"_interopDefault"],[4,27,11,13,"e"],[4,28,11,13],[5,4,11,13],[5,11,11,13,"e"],[5,12,11,13],[5,16,11,13,"e"],[5,17,11,13],[5,18,11,13,"__esModule"],[5,28,11,13],[5,31,11,13,"e"],[5,32,11,13],[6,6,11,13,"default"],[6,13,11,13],[6,15,11,13,"e"],[7,4,11,13],[8,2,11,13],[9,2,11,13],[9,6,11,13,"_babelRuntimeHelpersSlicedToArray"],[9,39,11,13],[9,42,11,13,"require"],[9,49,11,13],[9,50,11,13,"_dependencyMap"],[9,64,11,13],[10,2,11,13],[10,6,11,13,"_slicedToArray"],[10,20,11,13],[10,23,11,13,"_interopDefault"],[10,38,11,13],[10,39,11,13,"_babelRuntimeHelpersSlicedToArray"],[10,72,11,13],[11,2,11,13],[11,6,11,13,"_babelRuntimeHelpersClassCallCheck"],[11,40,11,13],[11,43,11,13,"require"],[11,50,11,13],[11,51,11,13,"_dependencyMap"],[11,65,11,13],[12,2,11,13],[12,6,11,13,"_classCallCheck"],[12,21,11,13],[12,24,11,13,"_interopDefault"],[12,39,11,13],[12,40,11,13,"_babelRuntimeHelpersClassCallCheck"],[12,74,11,13],[13,2,11,13],[13,6,11,13,"_babelRuntimeHelpersCreateClass"],[13,37,11,13],[13,40,11,13,"require"],[13,47,11,13],[13,48,11,13,"_dependencyMap"],[13,62,11,13],[14,2,11,13],[14,6,11,13,"_createClass"],[14,18,11,13],[14,21,11,13,"_interopDefault"],[14,36,11,13],[14,37,11,13,"_babelRuntimeHelpersCreateClass"],[14,68,11,13],[15,2,14,0,"require"],[15,9,14,0],[15,10,14,0,"_dependencyMap"],[15,24,14,0],[16,2,16,0],[16,6,16,6,"invariant"],[16,15,16,15],[16,18,16,18,"require"],[16,25,16,25],[16,26,16,25,"_dependencyMap"],[16,40,16,25],[16,56,16,37],[16,57,16,38],[17,2,16,39],[17,6,78,6,"ViewabilityHelper"],[17,23,78,23],[18,4,85,2],[18,13,85,2,"ViewabilityHelper"],[18,31,85,2],[18,33,87,4],[19,6,87,4],[19,10,86,4,"config"],[19,16,86,29],[19,19,86,29,"arguments"],[19,28,86,29],[19,29,86,29,"length"],[19,35,86,29],[19,43,86,29,"arguments"],[19,52,86,29],[19,60,86,29,"undefined"],[19,69,86,29],[19,72,86,29,"arguments"],[19,81,86,29],[19,87,86,32],[20,8,86,33,"viewAreaCoveragePercentThreshold"],[20,40,86,65],[20,42,86,67],[21,6,86,68],[21,7,86,69],[22,6,86,69],[22,10,86,69,"_classCallCheck"],[22,25,86,69],[22,26,86,69,"default"],[22,33,86,69],[22,41,86,69,"ViewabilityHelper"],[22,58,86,69],[23,6,86,69],[23,11,80,2,"_hasInteracted"],[23,25,80,16],[23,28,80,28],[23,33,80,33],[24,6,80,33],[24,11,81,2,"_timers"],[24,18,81,9],[24,21,81,25],[24,25,81,29,"Set"],[24,28,81,32],[24,29,81,33],[24,30,81,34],[25,6,81,34],[25,11,82,2,"_viewableIndices"],[25,27,82,18],[25,30,82,36],[25,32,82,38],[26,6,82,38],[26,11,83,2,"_viewableItems"],[26,25,83,16],[26,28,83,43],[26,32,83,47,"Map"],[26,35,83,50],[26,36,83,51],[26,37,83,52],[27,6,88,4],[27,10,88,8],[27,11,88,9,"_config"],[27,18,88,16],[27,21,88,19,"config"],[27,27,88,25],[28,4,89,2],[29,4,89,3],[29,15,89,3,"_createClass"],[29,27,89,3],[29,28,89,3,"default"],[29,35,89,3],[29,37,89,3,"ViewabilityHelper"],[29,54,89,3],[30,6,89,3,"key"],[30,9,89,3],[31,6,89,3,"value"],[31,11,89,3],[31,13,94,2],[31,22,94,2,"dispose"],[31,29,94,9,"dispose"],[31,30,94,9],[31,32,94,12],[32,8,98,4],[32,12,98,8],[32,13,98,9,"_timers"],[32,20,98,16],[32,21,98,17,"forEach"],[32,28,98,24],[32,29,98,25,"clearTimeout"],[32,41,98,37],[32,42,98,38],[33,6,99,2],[34,4,99,3],[35,6,99,3,"key"],[35,9,99,3],[36,6,99,3,"value"],[36,11,99,3],[36,13,104,2],[36,22,104,2,"computeViewableItems"],[36,42,104,22,"computeViewableItems"],[36,43,105,4,"props"],[36,48,105,26],[36,50,106,4,"scrollOffset"],[36,62,106,24],[36,64,107,4,"viewportHeight"],[36,78,107,26],[36,80,108,4,"listMetrics"],[36,91,108,38],[36,93,110,4,"renderRange"],[36,104,114,5],[36,106,115,19],[37,8,116,4],[37,12,116,10,"itemCount"],[37,21,116,19],[37,24,116,22,"props"],[37,29,116,27],[37,30,116,28,"getItemCount"],[37,42,116,40],[37,43,116,41,"props"],[37,48,116,46],[37,49,116,47,"data"],[37,53,116,51],[37,54,116,52],[38,8,117,4],[38,12,117,4,"_this$_config"],[38,25,117,4],[38,28,118,6],[38,32,118,10],[38,33,118,11,"_config"],[38,40,118,18],[39,10,117,11,"itemVisiblePercentThreshold"],[39,37,117,38],[39,40,117,38,"_this$_config"],[39,53,117,38],[39,54,117,11,"itemVisiblePercentThreshold"],[39,81,117,38],[40,10,117,40,"viewAreaCoveragePercentThreshold"],[40,42,117,72],[40,45,117,72,"_this$_config"],[40,58,117,72],[40,59,117,40,"viewAreaCoveragePercentThreshold"],[40,91,117,72],[41,8,119,4],[41,12,119,10,"viewAreaMode"],[41,24,119,22],[41,27,119,25,"viewAreaCoveragePercentThreshold"],[41,59,119,57],[41,63,119,61],[41,67,119,65],[42,8,120,4],[42,12,120,10,"viewablePercentThreshold"],[42,36,120,34],[42,39,120,37,"viewAreaMode"],[42,51,120,49],[42,54,121,8,"viewAreaCoveragePercentThreshold"],[42,86,121,40],[42,89,122,8,"itemVisiblePercentThreshold"],[42,116,122,35],[43,8,123,4,"invariant"],[43,17,123,13],[43,18,124,6,"viewablePercentThreshold"],[43,42,124,30],[43,46,124,34],[43,50,124,38],[43,54,125,9,"itemVisiblePercentThreshold"],[43,81,125,36],[43,85,125,40],[43,89,125,44],[43,95,126,11,"viewAreaCoveragePercentThreshold"],[43,127,126,43],[43,131,126,47],[43,135,126,51],[43,136,126,52],[43,138,127,6],[43,227,128,4],[43,228,128,5],[44,8,129,4],[44,12,129,10,"viewableIndices"],[44,27,129,25],[44,30,129,28],[44,32,129,30],[45,8,130,4],[45,12,130,8,"itemCount"],[45,21,130,17],[45,26,130,22],[45,27,130,23],[45,29,130,25],[46,10,131,6],[46,17,131,13,"viewableIndices"],[46,32,131,28],[47,8,132,4],[48,8,133,4],[48,12,133,8,"firstVisible"],[48,24,133,20],[48,27,133,23],[48,28,133,24],[48,29,133,25],[49,8,134,4],[49,12,134,4,"_ref"],[49,16,134,4],[49,19,134,26,"renderRange"],[49,30,134,37],[49,34,134,41],[50,12,134,42,"first"],[50,17,134,47],[50,19,134,49],[50,20,134,50],[51,12,134,52,"last"],[51,16,134,56],[51,18,134,58,"itemCount"],[51,27,134,67],[51,30,134,70],[52,10,134,71],[52,11,134,72],[53,10,134,11,"first"],[53,15,134,16],[53,18,134,16,"_ref"],[53,22,134,16],[53,23,134,11,"first"],[53,28,134,16],[54,10,134,18,"last"],[54,14,134,22],[54,17,134,22,"_ref"],[54,21,134,22],[54,22,134,18,"last"],[54,26,134,22],[55,8,135,4],[55,12,135,8,"last"],[55,16,135,12],[55,20,135,16,"itemCount"],[55,29,135,25],[55,31,135,27],[56,10,136,6,"console"],[56,17,136,13],[56,18,136,14,"warn"],[56,22,136,18],[56,23,137,8],[56,68,137,53],[56,71,138,10,"JSON"],[56,75,138,14],[56,76,138,15,"stringify"],[56,85,138,24],[56,86,138,25],[57,12,138,26,"renderRange"],[57,23,138,37],[58,12,138,39,"itemCount"],[59,10,138,48],[59,11,138,49],[59,12,139,6],[59,13,139,7],[60,10,140,6],[60,17,140,13],[60,19,140,15],[61,8,141,4],[62,8,142,4],[62,13,142,9],[62,17,142,13,"idx"],[62,20,142,16],[62,23,142,19,"first"],[62,28,142,24],[62,30,142,26,"idx"],[62,33,142,29],[62,37,142,33,"last"],[62,41,142,37],[62,43,142,39,"idx"],[62,46,142,42],[62,48,142,44],[62,50,142,46],[63,10,143,6],[63,14,143,12,"metrics"],[63,21,143,19],[63,24,143,22,"listMetrics"],[63,35,143,33],[63,36,143,34,"getCellMetrics"],[63,50,143,48],[63,51,143,49,"idx"],[63,54,143,52],[63,56,143,54,"props"],[63,61,143,59],[63,62,143,60],[64,10,144,6],[64,14,144,10],[64,15,144,11,"metrics"],[64,22,144,18],[64,24,144,20],[65,12,145,8],[66,10,146,6],[67,10,147,6],[67,14,147,12,"top"],[67,17,147,15],[67,20,147,18,"Math"],[67,24,147,22],[67,25,147,23,"floor"],[67,30,147,28],[67,31,147,29,"metrics"],[67,38,147,36],[67,39,147,37,"offset"],[67,45,147,43],[67,48,147,46,"scrollOffset"],[67,60,147,58],[67,61,147,59],[68,10,148,6],[68,14,148,12,"bottom"],[68,20,148,18],[68,23,148,21,"Math"],[68,27,148,25],[68,28,148,26,"floor"],[68,33,148,31],[68,34,148,32,"top"],[68,37,148,35],[68,40,148,38,"metrics"],[68,47,148,45],[68,48,148,46,"length"],[68,54,148,52],[68,55,148,53],[69,10,150,6],[69,14,150,10,"top"],[69,17,150,13],[69,20,150,16,"viewportHeight"],[69,34,150,30],[69,38,150,34,"bottom"],[69,44,150,40],[69,47,150,43],[69,48,150,44],[69,50,150,46],[70,12,151,8,"firstVisible"],[70,24,151,20],[70,27,151,23,"idx"],[70,30,151,26],[71,12,152,8],[71,16,153,10,"_isViewable"],[71,27,153,21],[71,28,154,12,"viewAreaMode"],[71,40,154,24],[71,42,155,12,"viewablePercentThreshold"],[71,66,155,36],[71,68,156,12,"top"],[71,71,156,15],[71,73,157,12,"bottom"],[71,79,157,18],[71,81,158,12,"viewportHeight"],[71,95,158,26],[71,97,159,12,"metrics"],[71,104,159,19],[71,105,159,20,"length"],[71,111,160,10],[71,112,160,11],[71,114,161,10],[72,14,162,10,"viewableIndices"],[72,29,162,25],[72,30,162,26,"push"],[72,34,162,30],[72,35,162,31,"idx"],[72,38,162,34],[72,39,162,35],[73,12,163,8],[74,10,164,6],[74,11,164,7],[74,17,164,13],[74,21,164,17,"firstVisible"],[74,33,164,29],[74,37,164,33],[74,38,164,34],[74,40,164,36],[75,12,165,8],[76,10,166,6],[77,8,167,4],[78,8,168,4],[78,15,168,11,"viewableIndices"],[78,30,168,26],[79,6,169,2],[80,4,169,3],[81,6,169,3,"key"],[81,9,169,3],[82,6,169,3,"value"],[82,11,169,3],[82,13,175,2],[82,22,175,2,"onUpdate"],[82,30,175,10,"onUpdate"],[82,31,176,4,"props"],[82,36,176,26],[82,38,177,4,"scrollOffset"],[82,50,177,24],[82,52,178,4,"viewportHeight"],[82,66,178,26],[82,68,179,4,"listMetrics"],[82,79,179,38],[82,81,180,4,"createViewToken"],[82,96,184,18],[82,98,185,4,"onViewableItemsChanged"],[82,120,189,14],[82,122,191,4,"renderRange"],[82,133,195,5],[82,135,196,10],[83,8,197,4],[83,12,197,10,"itemCount"],[83,21,197,19],[83,24,197,22,"props"],[83,29,197,27],[83,30,197,28,"getItemCount"],[83,42,197,40],[83,43,197,41,"props"],[83,48,197,46],[83,49,197,47,"data"],[83,53,197,51],[83,54,197,52],[84,8,198,4],[84,12,199,7],[84,16,199,11],[84,17,199,12,"_config"],[84,24,199,19],[84,25,199,20,"waitForInteraction"],[84,43,199,38],[84,47,199,42],[84,48,199,43],[84,52,199,47],[84,53,199,48,"_hasInteracted"],[84,67,199,62],[84,71,200,6,"itemCount"],[84,80,200,15],[84,85,200,20],[84,86,200,21],[84,90,201,6],[84,91,201,7,"listMetrics"],[84,102,201,18],[84,103,201,19,"getCellMetrics"],[84,117,201,33],[84,118,201,34],[84,119,201,35],[84,121,201,37,"props"],[84,126,201,42],[84,127,201,43],[84,129,202,6],[85,10,203,6],[86,8,204,4],[87,8,205,4],[87,12,205,8,"viewableIndices"],[87,27,205,38],[87,30,205,41],[87,32,205,43],[88,8,206,4],[88,12,206,8,"itemCount"],[88,21,206,17],[88,23,206,19],[89,10,207,6,"viewableIndices"],[89,25,207,21],[89,28,207,24],[89,32,207,28],[89,33,207,29,"computeViewableItems"],[89,53,207,49],[89,54,208,8,"props"],[89,59,208,13],[89,61,209,8,"scrollOffset"],[89,73,209,20],[89,75,210,8,"viewportHeight"],[89,89,210,22],[89,91,211,8,"listMetrics"],[89,102,211,19],[89,104,212,8,"renderRange"],[89,115,213,6],[89,116,213,7],[90,8,214,4],[91,8,215,4],[91,12,216,6],[91,16,216,10],[91,17,216,11,"_viewableIndices"],[91,33,216,27],[91,34,216,28,"length"],[91,40,216,34],[91,45,216,39,"viewableIndices"],[91,60,216,54],[91,61,216,55,"length"],[91,67,216,61],[91,71,217,6],[91,75,217,10],[91,76,217,11,"_viewableIndices"],[91,92,217,27],[91,93,217,28,"every"],[91,98,217,33],[91,99,217,34],[91,100,217,35,"v"],[91,101,217,36],[91,103,217,38,"ii"],[91,105,217,40],[91,110,217,45,"v"],[91,111,217,46],[91,116,217,51,"viewableIndices"],[91,131,217,66],[91,132,217,67,"ii"],[91,134,217,69],[91,135,217,70],[91,136,217,71],[91,138,218,6],[92,10,221,6],[93,8,222,4],[94,8,223,4],[94,12,223,8],[94,13,223,9,"_viewableIndices"],[94,29,223,25],[94,32,223,28,"viewableIndices"],[94,47,223,43],[95,8,224,4],[95,12,224,8],[95,16,224,12],[95,17,224,13,"_config"],[95,24,224,20],[95,25,224,21,"minimumViewTime"],[95,40,224,36],[95,42,224,38],[96,10,225,6],[96,14,225,12,"handle"],[96,20,225,29],[96,23,225,32,"setTimeout"],[96,33,225,42],[96,34,225,43],[96,40,225,49],[97,12,229,8],[97,16,229,12],[97,17,229,13,"_timers"],[97,24,229,20],[97,25,229,21,"delete"],[97,31,229,27],[97,32,229,28,"handle"],[97,38,229,34],[97,39,229,35],[98,12,230,8],[98,16,230,12],[98,17,230,13,"_onUpdateSync"],[98,30,230,26],[98,31,231,10,"props"],[98,36,231,15],[98,38,232,10,"viewableIndices"],[98,53,232,25],[98,55,233,10,"onViewableItemsChanged"],[98,77,233,32],[98,79,234,10,"createViewToken"],[98,94,235,8],[98,95,235,9],[99,10,236,6],[99,11,236,7],[99,13,236,9],[99,17,236,13],[99,18,236,14,"_config"],[99,25,236,21],[99,26,236,22,"minimumViewTime"],[99,41,236,37],[99,42,236,38],[100,10,240,6],[100,14,240,10],[100,15,240,11,"_timers"],[100,22,240,18],[100,23,240,19,"add"],[100,26,240,22],[100,27,240,23,"handle"],[100,33,240,29],[100,34,240,30],[101,8,241,4],[101,9,241,5],[101,15,241,11],[102,10,242,6],[102,14,242,10],[102,15,242,11,"_onUpdateSync"],[102,28,242,24],[102,29,243,8,"props"],[102,34,243,13],[102,36,244,8,"viewableIndices"],[102,51,244,23],[102,53,245,8,"onViewableItemsChanged"],[102,75,245,30],[102,77,246,8,"createViewToken"],[102,92,247,6],[102,93,247,7],[103,8,248,4],[104,6,249,2],[105,4,249,3],[106,6,249,3,"key"],[106,9,249,3],[107,6,249,3,"value"],[107,11,249,3],[107,13,254,2],[107,22,254,2,"resetViewableIndices"],[107,42,254,22,"resetViewableIndices"],[107,43,254,22],[107,45,254,25],[108,8,255,4],[108,12,255,8],[108,13,255,9,"_viewableIndices"],[108,29,255,25],[108,32,255,28],[108,34,255,30],[109,6,256,2],[110,4,256,3],[111,6,256,3,"key"],[111,9,256,3],[112,6,256,3,"value"],[112,11,256,3],[112,13,261,2],[112,22,261,2,"recordInteraction"],[112,39,261,19,"recordInteraction"],[112,40,261,19],[112,42,261,22],[113,8,262,4],[113,12,262,8],[113,13,262,9,"_hasInteracted"],[113,27,262,23],[113,30,262,26],[113,34,262,30],[114,6,263,2],[115,4,263,3],[116,6,263,3,"key"],[116,9,263,3],[117,6,263,3,"value"],[117,11,263,3],[117,13,265,2],[117,22,265,2,"_onUpdateSync"],[117,35,265,15,"_onUpdateSync"],[117,36,266,4,"props"],[117,41,266,26],[117,43,267,4,"viewableIndicesToCheck"],[117,65,267,41],[117,67,268,4,"onViewableItemsChanged"],[117,89,272,14],[117,91,273,4,"createViewToken"],[117,106,277,18],[117,108,278,4],[118,8,280,4,"viewableIndicesToCheck"],[118,30,280,26],[118,33,280,29,"viewableIndicesToCheck"],[118,55,280,51],[118,56,280,52,"filter"],[118,62,280,58],[118,63,280,59,"ii"],[118,65,280,61],[118,69,281,6],[118,73,281,10],[118,74,281,11,"_viewableIndices"],[118,90,281,27],[118,91,281,28,"includes"],[118,99,281,36],[118,100,281,37,"ii"],[118,102,281,39],[118,103,282,4],[118,104,282,5],[119,8,283,4],[119,12,283,10,"prevItems"],[119,21,283,19],[119,24,283,22],[119,28,283,26],[119,29,283,27,"_viewableItems"],[119,43,283,41],[120,8,284,4],[120,12,284,10,"nextItems"],[120,21,284,19],[120,24,284,22],[120,28,284,26,"Map"],[120,31,284,29],[120,32,285,6,"viewableIndicesToCheck"],[120,54,285,28],[120,55,285,29,"map"],[120,58,285,32],[120,59,285,33,"ii"],[120,61,285,35],[120,65,285,39],[121,10,286,8],[121,14,286,14,"viewable"],[121,22,286,22],[121,25,286,25,"createViewToken"],[121,40,286,40],[121,41,286,41,"ii"],[121,43,286,43],[121,45,286,45],[121,49,286,49],[121,51,286,51,"props"],[121,56,286,56],[121,57,286,57],[122,10,287,8],[122,17,287,15],[122,18,287,16,"viewable"],[122,26,287,24],[122,27,287,25,"key"],[122,30,287,28],[122,32,287,30,"viewable"],[122,40,287,38],[122,41,287,39],[123,8,288,6],[123,9,288,7],[123,10,289,4],[123,11,289,5],[124,8,291,4],[124,12,291,10,"changed"],[124,19,291,17],[124,22,291,20],[124,24,291,22],[125,8,292,4],[125,17,292,4,"_ref2"],[125,22,292,4],[125,26,292,34,"nextItems"],[125,35,292,43],[125,37,292,45],[126,10,292,45],[126,14,292,45,"_ref3"],[126,19,292,45],[126,26,292,45,"_slicedToArray"],[126,40,292,45],[126,41,292,45,"default"],[126,48,292,45],[126,50,292,45,"_ref2"],[126,55,292,45],[127,10,292,45],[127,14,292,16,"key"],[127,17,292,19],[127,20,292,19,"_ref3"],[127,25,292,19],[128,10,292,19],[128,14,292,21,"viewable"],[128,22,292,29],[128,25,292,29,"_ref3"],[128,30,292,29],[129,10,293,6],[129,14,293,10],[129,15,293,11,"prevItems"],[129,24,293,20],[129,25,293,21,"has"],[129,28,293,24],[129,29,293,25,"key"],[129,32,293,28],[129,33,293,29],[129,35,293,31],[130,12,294,8,"changed"],[130,19,294,15],[130,20,294,16,"push"],[130,24,294,20],[130,25,294,21,"viewable"],[130,33,294,29],[130,34,294,30],[131,10,295,6],[132,8,296,4],[133,8,297,4],[133,17,297,4,"_ref4"],[133,22,297,4],[133,26,297,34,"prevItems"],[133,35,297,43],[133,37,297,45],[134,10,297,45],[134,14,297,45,"_ref5"],[134,19,297,45],[134,26,297,45,"_slicedToArray"],[134,40,297,45],[134,41,297,45,"default"],[134,48,297,45],[134,50,297,45,"_ref4"],[134,55,297,45],[135,10,297,45],[135,14,297,16,"key"],[135,18,297,19],[135,21,297,19,"_ref5"],[135,26,297,19],[136,10,297,19],[136,14,297,21,"viewable"],[136,23,297,29],[136,26,297,29,"_ref5"],[136,31,297,29],[137,10,298,6],[137,14,298,10],[137,15,298,11,"nextItems"],[137,24,298,20],[137,25,298,21,"has"],[137,28,298,24],[137,29,298,25,"key"],[137,33,298,28],[137,34,298,29],[137,36,298,31],[138,12,299,8,"changed"],[138,19,299,15],[138,20,299,16,"push"],[138,24,299,20],[138,25,299,21],[139,14,299,22],[139,17,299,25,"viewable"],[139,26,299,33],[140,14,299,35,"isViewable"],[140,24,299,45],[140,26,299,47],[141,12,299,52],[141,13,299,53],[141,14,299,54],[142,10,300,6],[143,8,301,4],[144,8,302,4],[144,12,302,8,"changed"],[144,19,302,15],[144,20,302,16,"length"],[144,26,302,22],[144,29,302,25],[144,30,302,26],[144,32,302,28],[145,10,303,6],[145,14,303,10],[145,15,303,11,"_viewableItems"],[145,29,303,25],[145,32,303,28,"nextItems"],[145,41,303,37],[146,10,304,6,"onViewableItemsChanged"],[146,32,304,28],[146,33,304,29],[147,12,305,8,"viewableItems"],[147,25,305,21],[147,27,305,23,"Array"],[147,32,305,28],[147,33,305,29,"from"],[147,37,305,33],[147,38,305,34,"nextItems"],[147,47,305,43],[147,48,305,44,"values"],[147,54,305,50],[147,55,305,51],[147,56,305,52],[147,57,305,53],[148,12,306,8,"changed"],[148,19,306,15],[149,12,307,8,"viewabilityConfig"],[149,29,307,25],[149,31,307,27],[149,35,307,31],[149,36,307,32,"_config"],[150,10,308,6],[150,11,308,7],[150,12,308,8],[151,8,309,4],[152,6,310,2],[153,4,310,3],[154,2,310,3],[155,2,313,0],[155,11,313,9,"_isViewable"],[155,22,313,20,"_isViewable"],[155,23,314,2,"viewAreaMode"],[155,35,314,23],[155,37,315,2,"viewablePercentThreshold"],[155,61,315,34],[155,63,316,2,"top"],[155,66,316,13],[155,68,317,2,"bottom"],[155,74,317,16],[155,76,318,2,"viewportHeight"],[155,90,318,24],[155,92,319,2,"itemLength"],[155,102,319,20],[155,104,320,11],[156,4,321,2],[156,8,321,6,"_isEntirelyVisible"],[156,26,321,24],[156,27,321,25,"top"],[156,30,321,28],[156,32,321,30,"bottom"],[156,38,321,36],[156,40,321,38,"viewportHeight"],[156,54,321,52],[156,55,321,53],[156,57,321,55],[157,6,322,4],[157,13,322,11],[157,17,322,15],[158,4,323,2],[158,5,323,3],[158,11,323,9],[159,6,324,4],[159,10,324,10,"pixels"],[159,16,324,16],[159,19,324,19,"_getPixelsVisible"],[159,36,324,36],[159,37,324,37,"top"],[159,40,324,40],[159,42,324,42,"bottom"],[159,48,324,48],[159,50,324,50,"viewportHeight"],[159,64,324,64],[159,65,324,65],[160,6,325,4],[160,10,325,10,"percent"],[160,17,325,17],[160,20,326,6],[160,23,326,9],[160,27,326,13,"viewAreaMode"],[160,39,326,25],[160,42,326,28,"pixels"],[160,48,326,34],[160,51,326,37,"viewportHeight"],[160,65,326,51],[160,68,326,54,"pixels"],[160,74,326,60],[160,77,326,63,"itemLength"],[160,87,326,73],[160,88,326,74],[161,6,327,4],[161,13,327,11,"percent"],[161,20,327,18],[161,24,327,22,"viewablePercentThreshold"],[161,48,327,46],[162,4,328,2],[163,2,329,0],[164,2,331,0],[164,11,331,9,"_getPixelsVisible"],[164,28,331,26,"_getPixelsVisible"],[164,29,332,2,"top"],[164,32,332,13],[164,34,333,2,"bottom"],[164,40,333,16],[164,42,334,2,"viewportHeight"],[164,56,334,24],[164,58,335,10],[165,4,336,2],[165,8,336,8,"visibleHeight"],[165,21,336,21],[165,24,336,24,"Math"],[165,28,336,28],[165,29,336,29,"min"],[165,32,336,32],[165,33,336,33,"bottom"],[165,39,336,39],[165,41,336,41,"viewportHeight"],[165,55,336,55],[165,56,336,56],[165,59,336,59,"Math"],[165,63,336,63],[165,64,336,64,"max"],[165,67,336,67],[165,68,336,68,"top"],[165,71,336,71],[165,73,336,73],[165,74,336,74],[165,75,336,75],[166,4,337,2],[166,11,337,9,"Math"],[166,15,337,13],[166,16,337,14,"max"],[166,19,337,17],[166,20,337,18],[166,21,337,19],[166,23,337,21,"visibleHeight"],[166,36,337,34],[166,37,337,35],[167,2,338,0],[168,2,340,0],[168,11,340,9,"_isEntirelyVisible"],[168,29,340,27,"_isEntirelyVisible"],[168,30,341,2,"top"],[168,33,341,13],[168,35,342,2,"bottom"],[168,41,342,16],[168,43,343,2,"viewportHeight"],[168,57,343,24],[168,59,344,11],[169,4,345,2],[169,11,345,9,"top"],[169,14,345,12],[169,18,345,16],[169,19,345,17],[169,23,345,21,"bottom"],[169,29,345,27],[169,33,345,31,"viewportHeight"],[169,47,345,45],[169,51,345,49,"bottom"],[169,57,345,55],[169,60,345,58,"top"],[169,63,345,61],[170,2,346,0],[171,2,348,0,"module"],[171,8,348,6],[171,9,348,7,"exports"],[171,16,348,14],[171,19,348,17,"ViewabilityHelper"],[171,36,348,34],[172,0,348,35],[172,3]],"functionMap":{"names":["<global>","ViewabilityHelper","constructor","dispose","computeViewableItems","onUpdate","_viewableIndices.every$argument_0","setTimeout$argument_0","resetViewableIndices","recordInteraction","_onUpdateSync","viewableIndicesToCheck.filter$argument_0","viewableIndicesToCheck.map$argument_0","_isViewable","_getPixelsVisible","_isEntirelyVisible"],"mappings":"AAA;AC6E;ECO;GDI;EEK;GFK;EGK;GHiE;EIM;kCC0C,oCD;2CEQ;OFW;GJa;EOK;GPE;EQK;GRE;ESE;2DCe;wCDC;iCEI;OFG;GTsB;CDC;AaE;CbgB;AcE;CdO;AeE;CfM"},"hasCjsExports":true},"type":"js/module"}]}