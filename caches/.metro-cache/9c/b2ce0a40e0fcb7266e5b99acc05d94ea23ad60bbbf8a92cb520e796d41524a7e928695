{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _slicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.resolveHref = void 0;\n  /** Resolve an href object into a fully qualified, relative href. */\n  var resolveHref = href => {\n    if (typeof href === 'string') {\n      return (0, exports.resolveHref)({\n        pathname: href\n      });\n    }\n    var path = href.pathname ?? '';\n    if (!href?.params) {\n      return path;\n    }\n    var _createQualifiedPathn = createQualifiedPathname(path, {\n        ...href.params\n      }),\n      pathname = _createQualifiedPathn.pathname,\n      params = _createQualifiedPathn.params;\n    var paramsString = createQueryParams(params);\n    return pathname + (paramsString ? `?${paramsString}` : '');\n  };\n  exports.resolveHref = resolveHref;\n  function createQualifiedPathname(pathname, params) {\n    for (var _ref of Object.entries(params)) {\n      var _ref2 = _slicedToArray(_ref, 2);\n      var key = _ref2[0];\n      var _ref2$ = _ref2[1];\n      var value = _ref2$ === void 0 ? '' : _ref2$;\n      var dynamicKey = `[${key}]`;\n      var deepDynamicKey = `[...${key}]`;\n      if (pathname.includes(dynamicKey)) {\n        pathname = pathname.replace(dynamicKey, encodeParam(value));\n      } else if (pathname.includes(deepDynamicKey)) {\n        pathname = pathname.replace(deepDynamicKey, encodeParam(value));\n      } else {\n        continue;\n      }\n      delete params[key];\n    }\n    return {\n      pathname,\n      params\n    };\n  }\n  function encodeParam(param) {\n    if (Array.isArray(param)) {\n      return param.map(p => encodeParam(p)).join('/');\n    }\n    return encodeURIComponent(param.toString());\n  }\n  function createQueryParams(params) {\n    return Object.entries(params)\n    // Allow nullish params\n    .filter(_ref3 => {\n      var _ref4 = _slicedToArray(_ref3, 2),\n        value = _ref4[1];\n      return value != null;\n    }).map(_ref5 => {\n      var _ref6 = _slicedToArray(_ref5, 2),\n        key = _ref6[0],\n        value = _ref6[1];\n      return `${key}=${encodeURIComponent(value.toString())}`;\n    }).join('&');\n  }\n});","lineCount":71,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_slicedToArray"],[4,20,1,13],[4,23,1,13,"require"],[4,30,1,13],[4,31,1,13,"_dependencyMap"],[4,45,1,13],[4,90,1,13,"default"],[4,97,1,13],[5,2,2,0,"Object"],[5,8,2,6],[5,9,2,7,"defineProperty"],[5,23,2,21],[5,24,2,22,"exports"],[5,31,2,29],[5,33,2,31],[5,45,2,43],[5,47,2,45],[6,4,2,47,"value"],[6,9,2,52],[6,11,2,54],[7,2,2,59],[7,3,2,60],[7,4,2,61],[8,2,3,0,"exports"],[8,9,3,7],[8,10,3,8,"resolveHref"],[8,21,3,19],[8,24,3,22],[8,29,3,27],[8,30,3,28],[9,2,4,0],[10,2,5,0],[10,6,5,6,"resolveHref"],[10,17,5,17],[10,20,5,21,"href"],[10,24,5,25],[10,28,5,30],[11,4,6,4],[11,8,6,8],[11,15,6,15,"href"],[11,19,6,19],[11,24,6,24],[11,32,6,32],[11,34,6,34],[12,6,7,8],[12,13,7,15],[12,14,7,16],[12,15,7,17],[12,17,7,19,"exports"],[12,24,7,26],[12,25,7,27,"resolveHref"],[12,36,7,38],[12,38,7,40],[13,8,7,42,"pathname"],[13,16,7,50],[13,18,7,52,"href"],[14,6,7,57],[14,7,7,58],[14,8,7,59],[15,4,8,4],[16,4,9,4],[16,8,9,10,"path"],[16,12,9,14],[16,15,9,17,"href"],[16,19,9,21],[16,20,9,22,"pathname"],[16,28,9,30],[16,32,9,34],[16,34,9,36],[17,4,10,4],[17,8,10,8],[17,9,10,9,"href"],[17,13,10,13],[17,15,10,15,"params"],[17,21,10,21],[17,23,10,23],[18,6,11,8],[18,13,11,15,"path"],[18,17,11,19],[19,4,12,4],[20,4,13,4],[20,8,13,4,"_createQualifiedPathn"],[20,29,13,4],[20,32,13,33,"createQualifiedPathname"],[20,55,13,56],[20,56,13,57,"path"],[20,60,13,61],[20,62,13,63],[21,8,14,8],[21,11,14,11,"href"],[21,15,14,15],[21,16,14,16,"params"],[22,6,15,4],[22,7,15,5],[22,8,15,6],[23,6,13,12,"pathname"],[23,14,13,20],[23,17,13,20,"_createQualifiedPathn"],[23,38,13,20],[23,39,13,12,"pathname"],[23,47,13,20],[24,6,13,22,"params"],[24,12,13,28],[24,15,13,28,"_createQualifiedPathn"],[24,36,13,28],[24,37,13,22,"params"],[24,43,13,28],[25,4,16,4],[25,8,16,10,"paramsString"],[25,20,16,22],[25,23,16,25,"createQueryParams"],[25,40,16,42],[25,41,16,43,"params"],[25,47,16,49],[25,48,16,50],[26,4,17,4],[26,11,17,11,"pathname"],[26,19,17,19],[26,23,17,23,"paramsString"],[26,35,17,35],[26,38,17,38],[26,42,17,42,"paramsString"],[26,54,17,54],[26,56,17,56],[26,59,17,59],[26,61,17,61],[26,62,17,62],[27,2,18,0],[27,3,18,1],[28,2,19,0,"exports"],[28,9,19,7],[28,10,19,8,"resolveHref"],[28,21,19,19],[28,24,19,22,"resolveHref"],[28,35,19,33],[29,2,20,0],[29,11,20,9,"createQualifiedPathname"],[29,34,20,32,"createQualifiedPathname"],[29,35,20,33,"pathname"],[29,43,20,41],[29,45,20,43,"params"],[29,51,20,49],[29,53,20,51],[30,4,21,4],[30,13,21,4,"_ref"],[30,17,21,4],[30,21,21,36,"Object"],[30,27,21,42],[30,28,21,43,"entries"],[30,35,21,50],[30,36,21,51,"params"],[30,42,21,57],[30,43,21,58],[30,45,21,60],[31,6,21,60],[31,10,21,60,"_ref2"],[31,15,21,60],[31,18,21,60,"_slicedToArray"],[31,32,21,60],[31,33,21,60,"_ref"],[31,37,21,60],[32,6,21,60],[32,10,21,16,"key"],[32,13,21,19],[32,16,21,19,"_ref2"],[32,21,21,19],[33,6,21,19],[33,10,21,19,"_ref2$"],[33,16,21,19],[33,19,21,19,"_ref2"],[33,24,21,19],[34,6,21,19],[34,10,21,21,"value"],[34,15,21,26],[34,18,21,26,"_ref2$"],[34,24,21,26],[34,38,21,29],[34,40,21,31],[34,43,21,31,"_ref2$"],[34,49,21,31],[35,6,22,8],[35,10,22,14,"dynamicKey"],[35,20,22,24],[35,23,22,27],[35,27,22,31,"key"],[35,30,22,34],[35,33,22,37],[36,6,23,8],[36,10,23,14,"deepDynamicKey"],[36,24,23,28],[36,27,23,31],[36,34,23,38,"key"],[36,37,23,41],[36,40,23,44],[37,6,24,8],[37,10,24,12,"pathname"],[37,18,24,20],[37,19,24,21,"includes"],[37,27,24,29],[37,28,24,30,"dynamicKey"],[37,38,24,40],[37,39,24,41],[37,41,24,43],[38,8,25,12,"pathname"],[38,16,25,20],[38,19,25,23,"pathname"],[38,27,25,31],[38,28,25,32,"replace"],[38,35,25,39],[38,36,25,40,"dynamicKey"],[38,46,25,50],[38,48,25,52,"encodeParam"],[38,59,25,63],[38,60,25,64,"value"],[38,65,25,69],[38,66,25,70],[38,67,25,71],[39,6,26,8],[39,7,26,9],[39,13,27,13],[39,17,27,17,"pathname"],[39,25,27,25],[39,26,27,26,"includes"],[39,34,27,34],[39,35,27,35,"deepDynamicKey"],[39,49,27,49],[39,50,27,50],[39,52,27,52],[40,8,28,12,"pathname"],[40,16,28,20],[40,19,28,23,"pathname"],[40,27,28,31],[40,28,28,32,"replace"],[40,35,28,39],[40,36,28,40,"deepDynamicKey"],[40,50,28,54],[40,52,28,56,"encodeParam"],[40,63,28,67],[40,64,28,68,"value"],[40,69,28,73],[40,70,28,74],[40,71,28,75],[41,6,29,8],[41,7,29,9],[41,13,30,13],[42,8,31,12],[43,6,32,8],[44,6,33,8],[44,13,33,15,"params"],[44,19,33,21],[44,20,33,22,"key"],[44,23,33,25],[44,24,33,26],[45,4,34,4],[46,4,35,4],[46,11,35,11],[47,6,35,13,"pathname"],[47,14,35,21],[48,6,35,23,"params"],[49,4,35,30],[49,5,35,31],[50,2,36,0],[51,2,37,0],[51,11,37,9,"encodeParam"],[51,22,37,20,"encodeParam"],[51,23,37,21,"param"],[51,28,37,26],[51,30,37,28],[52,4,38,4],[52,8,38,8,"Array"],[52,13,38,13],[52,14,38,14,"isArray"],[52,21,38,21],[52,22,38,22,"param"],[52,27,38,27],[52,28,38,28],[52,30,38,30],[53,6,39,8],[53,13,39,15,"param"],[53,18,39,20],[53,19,39,21,"map"],[53,22,39,24],[53,23,39,26,"p"],[53,24,39,27],[53,28,39,32,"encodeParam"],[53,39,39,43],[53,40,39,44,"p"],[53,41,39,45],[53,42,39,46],[53,43,39,47],[53,44,39,48,"join"],[53,48,39,52],[53,49,39,53],[53,52,39,56],[53,53,39,57],[54,4,40,4],[55,4,41,4],[55,11,41,11,"encodeURIComponent"],[55,29,41,29],[55,30,41,30,"param"],[55,35,41,35],[55,36,41,36,"toString"],[55,44,41,44],[55,45,41,45],[55,46,41,46],[55,47,41,47],[56,2,42,0],[57,2,43,0],[57,11,43,9,"createQueryParams"],[57,28,43,26,"createQueryParams"],[57,29,43,27,"params"],[57,35,43,33],[57,37,43,35],[58,4,44,4],[58,11,44,12,"Object"],[58,17,44,18],[58,18,44,19,"entries"],[58,25,44,26],[58,26,44,27,"params"],[58,32,44,33],[59,4,45,8],[60,4,45,8],[60,5,46,9,"filter"],[60,11,46,15],[60,12,46,16,"_ref3"],[60,17,46,16],[61,6,46,16],[61,10,46,16,"_ref4"],[61,15,46,16],[61,18,46,16,"_slicedToArray"],[61,32,46,16],[61,33,46,16,"_ref3"],[61,38,46,16],[62,8,46,20,"value"],[62,13,46,25],[62,16,46,25,"_ref4"],[62,21,46,25],[63,6,46,25],[63,13,46,31,"value"],[63,18,46,36],[63,22,46,40],[63,26,46,44],[64,4,46,44],[64,6,46,45],[64,7,47,9,"map"],[64,10,47,12],[64,11,47,13,"_ref5"],[64,16,47,13],[65,6,47,13],[65,10,47,13,"_ref6"],[65,15,47,13],[65,18,47,13,"_slicedToArray"],[65,32,47,13],[65,33,47,13,"_ref5"],[65,38,47,13],[66,8,47,15,"key"],[66,11,47,18],[66,14,47,18,"_ref6"],[66,19,47,18],[67,8,47,20,"value"],[67,13,47,25],[67,16,47,25,"_ref6"],[67,21,47,25],[68,6,47,25],[68,13,47,31],[68,16,47,34,"key"],[68,19,47,37],[68,23,47,41,"encodeURIComponent"],[68,41,47,59],[68,42,47,60,"value"],[68,47,47,65],[68,48,47,66,"toString"],[68,56,47,74],[68,57,47,75],[68,58,47,76],[68,59,47,77],[68,61,47,79],[69,4,47,79],[69,6,47,80],[69,7,48,9,"join"],[69,11,48,13],[69,12,48,14],[69,15,48,17],[69,16,48,18],[70,2,49,0],[71,0,49,1],[71,3]],"functionMap":{"names":["<global>","resolveHref","createQualifiedPathname","encodeParam","param.map$argument_0","createQueryParams","Object.entries.filter$argument_0","Object.entries.filter.map$argument_0"],"mappings":"AAA;oBCI;CDa;AEE;CFgB;AGC;yBCE,qBD;CHG;AKC;gBCG,4BD;aEC,kEF;CLE"},"hasCjsExports":true},"type":"js/module"}]}