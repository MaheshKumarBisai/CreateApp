{"dependencies":[{"name":"./NativeVibration","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0},"end":{"line":12,"column":48}}],"key":"bfBMiKRGETR5t1jV2nB0CzwpmNA=","exportNames":["*"],"imports":1}},{"name":"../Utilities/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":14,"column":17},"end":{"line":14,"column":49}}],"key":"4a+BOpVYP2jviYQTOV6MRNF0tRc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  var _NativeVibration = require(_dependencyMap[0], \"./NativeVibration\");\n  var NativeVibration = _interopDefault(_NativeVibration);\n  var Platform = require(_dependencyMap[1], \"../Utilities/Platform\");\n  var _vibrating = false;\n  var _id = 0;\n  var _default_vibration_length = 400;\n  function vibrateByPattern(pattern) {\n    var repeat = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (_vibrating) {\n      return;\n    }\n    _vibrating = true;\n    if (pattern[0] === 0) {\n      NativeVibration.default.vibrate(_default_vibration_length);\n      pattern = pattern.slice(1);\n    }\n    if (pattern.length === 0) {\n      _vibrating = false;\n      return;\n    }\n    setTimeout(() => vibrateScheduler(++_id, pattern, repeat, 1), pattern[0]);\n  }\n  function vibrateScheduler(id, pattern, repeat, nextIndex) {\n    if (!_vibrating || id !== _id) {\n      return;\n    }\n    NativeVibration.default.vibrate(_default_vibration_length);\n    if (nextIndex >= pattern.length) {\n      if (repeat) {\n        nextIndex = 0;\n      } else {\n        _vibrating = false;\n        return;\n      }\n    }\n    setTimeout(() => vibrateScheduler(id, pattern, repeat, nextIndex + 1), pattern[nextIndex]);\n  }\n  var Vibration = {\n    vibrate: function () {\n      var pattern = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _default_vibration_length;\n      var repeat = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (Platform.OS === 'android') {\n        if (typeof pattern === 'number') {\n          NativeVibration.default.vibrate(pattern);\n        } else if (Array.isArray(pattern)) {\n          NativeVibration.default.vibrateByPattern(pattern, repeat ? 0 : -1);\n        } else {\n          throw new Error('Vibration pattern should be a number or array');\n        }\n      } else {\n        if (_vibrating) {\n          return;\n        }\n        if (typeof pattern === 'number') {\n          NativeVibration.default.vibrate(pattern);\n        } else if (Array.isArray(pattern)) {\n          vibrateByPattern(pattern, repeat);\n        } else {\n          throw new Error('Vibration pattern should be a number or array');\n        }\n      }\n    },\n    cancel: function () {\n      if (Platform.OS === 'ios') {\n        _vibrating = false;\n      } else {\n        NativeVibration.default.cancel();\n      }\n    }\n  };\n  module.exports = Vibration;\n});","lineCount":80,"map":[[9,2,12,0],[9,6,12,0,"_NativeVibration"],[9,22,12,0],[9,25,12,0,"require"],[9,32,12,0],[9,33,12,0,"_dependencyMap"],[9,47,12,0],[10,2,12,0],[10,6,12,0,"NativeVibration"],[10,21,12,0],[10,24,12,0,"_interopDefault"],[10,39,12,0],[10,40,12,0,"_NativeVibration"],[10,56,12,0],[11,2,14,0],[11,6,14,6,"Platform"],[11,14,14,14],[11,17,14,17,"require"],[11,24,14,24],[11,25,14,24,"_dependencyMap"],[11,39,14,24],[11,67,14,48],[11,68,14,49],[12,2,22,0],[12,6,22,4,"_vibrating"],[12,16,22,23],[12,19,22,26],[12,24,22,31],[13,2,23,0],[13,6,23,4,"_id"],[13,9,23,15],[13,12,23,18],[13,13,23,19],[14,2,24,0],[14,6,24,6,"_default_vibration_length"],[14,31,24,31],[14,34,24,34],[14,37,24,37],[15,2,26,0],[15,11,26,9,"vibrateByPattern"],[15,27,26,25,"vibrateByPattern"],[15,28,26,26,"pattern"],[15,35,26,48],[15,37,26,75],[16,4,26,75],[16,8,26,50,"repeat"],[16,14,26,65],[16,17,26,65,"arguments"],[16,26,26,65],[16,27,26,65,"length"],[16,33,26,65],[16,41,26,65,"arguments"],[16,50,26,65],[16,58,26,65,"undefined"],[16,67,26,65],[16,70,26,65,"arguments"],[16,79,26,65],[16,85,26,68],[16,90,26,73],[17,4,27,2],[17,8,27,6,"_vibrating"],[17,18,27,16],[17,20,27,18],[18,6,28,4],[19,4,29,2],[20,4,30,2,"_vibrating"],[20,14,30,12],[20,17,30,15],[20,21,30,19],[21,4,31,2],[21,8,31,6,"pattern"],[21,15,31,13],[21,16,31,14],[21,17,31,15],[21,18,31,16],[21,23,31,21],[21,24,31,22],[21,26,31,24],[22,6,32,4,"NativeVibration"],[22,21,32,19],[22,22,32,19,"default"],[22,29,32,19],[22,30,32,20,"vibrate"],[22,37,32,27],[22,38,32,28,"_default_vibration_length"],[22,63,32,53],[22,64,32,54],[23,6,34,4,"pattern"],[23,13,34,11],[23,16,34,14,"pattern"],[23,23,34,21],[23,24,34,22,"slice"],[23,29,34,27],[23,30,34,28],[23,31,34,29],[23,32,34,30],[24,4,35,2],[25,4,36,2],[25,8,36,6,"pattern"],[25,15,36,13],[25,16,36,14,"length"],[25,22,36,20],[25,27,36,25],[25,28,36,26],[25,30,36,28],[26,6,37,4,"_vibrating"],[26,16,37,14],[26,19,37,17],[26,24,37,22],[27,6,38,4],[28,4,39,2],[29,4,40,2,"setTimeout"],[29,14,40,12],[29,15,40,13],[29,21,40,19,"vibrateScheduler"],[29,37,40,35],[29,38,40,36],[29,40,40,38,"_id"],[29,43,40,41],[29,45,40,43,"pattern"],[29,52,40,50],[29,54,40,52,"repeat"],[29,60,40,58],[29,62,40,60],[29,63,40,61],[29,64,40,62],[29,66,40,64,"pattern"],[29,73,40,71],[29,74,40,72],[29,75,40,73],[29,76,40,74],[29,77,40,75],[30,2,41,0],[31,2,43,0],[31,11,43,9,"vibrateScheduler"],[31,27,43,25,"vibrateScheduler"],[31,28,44,2,"id"],[31,30,44,12],[31,32,45,2,"pattern"],[31,39,45,24],[31,41,46,2,"repeat"],[31,47,46,17],[31,49,47,2,"nextIndex"],[31,58,47,19],[31,60,48,2],[32,4,49,2],[32,8,49,6],[32,9,49,7,"_vibrating"],[32,19,49,17],[32,23,49,21,"id"],[32,25,49,23],[32,30,49,28,"_id"],[32,33,49,31],[32,35,49,33],[33,6,50,4],[34,4,51,2],[35,4,52,2,"NativeVibration"],[35,19,52,17],[35,20,52,17,"default"],[35,27,52,17],[35,28,52,18,"vibrate"],[35,35,52,25],[35,36,52,26,"_default_vibration_length"],[35,61,52,51],[35,62,52,52],[36,4,53,2],[36,8,53,6,"nextIndex"],[36,17,53,15],[36,21,53,19,"pattern"],[36,28,53,26],[36,29,53,27,"length"],[36,35,53,33],[36,37,53,35],[37,6,54,4],[37,10,54,8,"repeat"],[37,16,54,14],[37,18,54,16],[38,8,56,6,"nextIndex"],[38,17,56,15],[38,20,56,18],[38,21,56,19],[39,6,57,4],[39,7,57,5],[39,13,57,11],[40,8,58,6,"_vibrating"],[40,18,58,16],[40,21,58,19],[40,26,58,24],[41,8,59,6],[42,6,60,4],[43,4,61,2],[44,4,62,2,"setTimeout"],[44,14,62,12],[44,15,63,4],[44,21,63,10,"vibrateScheduler"],[44,37,63,26],[44,38,63,27,"id"],[44,40,63,29],[44,42,63,31,"pattern"],[44,49,63,38],[44,51,63,40,"repeat"],[44,57,63,46],[44,59,63,48,"nextIndex"],[44,68,63,57],[44,71,63,60],[44,72,63,61],[44,73,63,62],[44,75,64,4,"pattern"],[44,82,64,11],[44,83,64,12,"nextIndex"],[44,92,64,21],[44,93,65,2],[44,94,65,3],[45,2,66,0],[46,2,68,0],[46,6,68,6,"Vibration"],[46,15,68,15],[46,18,68,18],[47,4,74,2,"vibrate"],[47,11,74,9],[47,13,74,11],[47,22,74,11,"vibrate"],[47,23,74,11],[47,25,77,4],[48,6,77,4],[48,10,75,4,"pattern"],[48,17,75,35],[48,20,75,35,"arguments"],[48,29,75,35],[48,30,75,35,"length"],[48,36,75,35],[48,44,75,35,"arguments"],[48,53,75,35],[48,61,75,35,"undefined"],[48,70,75,35],[48,73,75,35,"arguments"],[48,82,75,35],[48,88,75,38,"_default_vibration_length"],[48,113,75,63],[49,6,75,63],[49,10,76,4,"repeat"],[49,16,76,19],[49,19,76,19,"arguments"],[49,28,76,19],[49,29,76,19,"length"],[49,35,76,19],[49,43,76,19,"arguments"],[49,52,76,19],[49,60,76,19,"undefined"],[49,69,76,19],[49,72,76,19,"arguments"],[49,81,76,19],[49,87,76,22],[49,92,76,27],[50,6,78,4],[50,10,78,8,"Platform"],[50,18,78,16],[50,19,78,17,"OS"],[50,21,78,19],[50,26,78,24],[50,35,78,33],[50,37,78,35],[51,8,79,6],[51,12,79,10],[51,19,79,17,"pattern"],[51,26,79,24],[51,31,79,29],[51,39,79,37],[51,41,79,39],[52,10,80,8,"NativeVibration"],[52,25,80,23],[52,26,80,23,"default"],[52,33,80,23],[52,34,80,24,"vibrate"],[52,41,80,31],[52,42,80,32,"pattern"],[52,49,80,39],[52,50,80,40],[53,8,81,6],[53,9,81,7],[53,15,81,13],[53,19,81,17,"Array"],[53,24,81,22],[53,25,81,23,"isArray"],[53,32,81,30],[53,33,81,31,"pattern"],[53,40,81,38],[53,41,81,39],[53,43,81,41],[54,10,82,8,"NativeVibration"],[54,25,82,23],[54,26,82,23,"default"],[54,33,82,23],[54,34,82,24,"vibrateByPattern"],[54,50,82,40],[54,51,82,41,"pattern"],[54,58,82,48],[54,60,82,50,"repeat"],[54,66,82,56],[54,69,82,59],[54,70,82,60],[54,73,82,63],[54,74,82,64],[54,75,82,65],[54,76,82,66],[55,8,83,6],[55,9,83,7],[55,15,83,13],[56,10,84,8],[56,16,84,14],[56,20,84,18,"Error"],[56,25,84,23],[56,26,84,24],[56,73,84,71],[56,74,84,72],[57,8,85,6],[58,6,86,4],[58,7,86,5],[58,13,86,11],[59,8,87,6],[59,12,87,10,"_vibrating"],[59,22,87,20],[59,24,87,22],[60,10,88,8],[61,8,89,6],[62,8,90,6],[62,12,90,10],[62,19,90,17,"pattern"],[62,26,90,24],[62,31,90,29],[62,39,90,37],[62,41,90,39],[63,10,91,8,"NativeVibration"],[63,25,91,23],[63,26,91,23,"default"],[63,33,91,23],[63,34,91,24,"vibrate"],[63,41,91,31],[63,42,91,32,"pattern"],[63,49,91,39],[63,50,91,40],[64,8,92,6],[64,9,92,7],[64,15,92,13],[64,19,92,17,"Array"],[64,24,92,22],[64,25,92,23,"isArray"],[64,32,92,30],[64,33,92,31,"pattern"],[64,40,92,38],[64,41,92,39],[64,43,92,41],[65,10,93,8,"vibrateByPattern"],[65,26,93,24],[65,27,93,25,"pattern"],[65,34,93,32],[65,36,93,34,"repeat"],[65,42,93,40],[65,43,93,41],[66,8,94,6],[66,9,94,7],[66,15,94,13],[67,10,95,8],[67,16,95,14],[67,20,95,18,"Error"],[67,25,95,23],[67,26,95,24],[67,73,95,71],[67,74,95,72],[68,8,96,6],[69,6,97,4],[70,4,98,2],[70,5,98,3],[71,4,104,2,"cancel"],[71,10,104,8],[71,12,104,10],[71,21,104,10,"cancel"],[71,22,104,10],[71,24,104,22],[72,6,105,4],[72,10,105,8,"Platform"],[72,18,105,16],[72,19,105,17,"OS"],[72,21,105,19],[72,26,105,24],[72,31,105,29],[72,33,105,31],[73,8,106,6,"_vibrating"],[73,18,106,16],[73,21,106,19],[73,26,106,24],[74,6,107,4],[74,7,107,5],[74,13,107,11],[75,8,108,6,"NativeVibration"],[75,23,108,21],[75,24,108,21,"default"],[75,31,108,21],[75,32,108,22,"cancel"],[75,38,108,28],[75,39,108,29],[75,40,108,30],[76,6,109,4],[77,4,110,2],[78,2,111,0],[78,3,111,1],[79,2,113,0,"module"],[79,8,113,6],[79,9,113,7,"exports"],[79,16,113,14],[79,19,113,17,"Vibration"],[79,28,113,26],[80,0,113,27],[80,3]],"functionMap":{"names":["<global>","vibrateByPattern","setTimeout$argument_0","vibrateScheduler","vibrate","cancel"],"mappings":"AAA;ACyB;aCc,iDD;CDC;AGE;IDoB,0DC;CHG;WIQ;GJwB;UKM;GLM"},"hasCjsExports":true},"type":"js/module"}]}