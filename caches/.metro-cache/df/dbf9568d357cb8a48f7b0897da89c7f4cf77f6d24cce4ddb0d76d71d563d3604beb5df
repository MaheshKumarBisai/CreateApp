{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fnQVLibs90KHiJ7y48fLgPWzDS0=","exportNames":["*"],"imports":1}},{"name":"@react-navigation/routers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":7,"column":35,"index":127}}],"key":"TumjUqgKkj40CL5/as2VxzLfO54=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":128},"end":{"line":8,"column":31,"index":159}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./NavigationBuilderContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":161},"end":{"line":10,"column":66,"index":227}}],"key":"KFIEweWhugyJmWZL0YQ42pa68TE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _excluded = [\"emit\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useNavigationCache;\n    }\n  });\n  var _babelRuntimeHelpersObjectWithoutProperties = require(_dependencyMap[0], \"@babel/runtime/helpers/objectWithoutProperties\");\n  var _objectWithoutProperties = _interopDefault(_babelRuntimeHelpersObjectWithoutProperties);\n  var _reactNavigationRouters = require(_dependencyMap[1], \"@react-navigation/routers\");\n  var _react = require(_dependencyMap[2], \"react\");\n  var React = _interopNamespace(_react);\n  var _NavigationBuilderContext = require(_dependencyMap[3], \"./NavigationBuilderContext\");\n  var NavigationBuilderContext = _interopDefault(_NavigationBuilderContext);\n  /**\n   * Hook to cache navigation objects for each screen in the navigator.\n   * It's important to cache them to make sure navigation objects don't change between renders.\n   * This lets us apply optimizations like `React.memo` to minimize re-rendering screens.\n   */\n  function useNavigationCache(_ref) {\n    var state = _ref.state,\n      getState = _ref.getState,\n      navigation = _ref.navigation,\n      setOptions = _ref.setOptions,\n      router = _ref.router,\n      emitter = _ref.emitter;\n    var _React$useContext = React.useContext(NavigationBuilderContext.default),\n      stackRef = _React$useContext.stackRef;\n\n    // Cache object which holds navigation objects for each screen\n    // We use `React.useMemo` instead of `React.useRef` coz we want to invalidate it when deps change\n    // In reality, these deps will rarely change, if ever\n    var cache = React.useMemo(() => ({\n      current: {}\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [getState, navigation, setOptions, router, emitter]);\n    var actions = {\n      ...router.actionCreators,\n      ..._reactNavigationRouters.CommonActions\n    };\n    cache.current = state.routes.reduce((acc, route) => {\n      var previous = cache.current[route.key];\n      if (previous) {\n        // If a cached navigation object already exists, reuse it\n        acc[route.key] = previous;\n      } else {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var emit = navigation.emit,\n          rest = (0, _objectWithoutProperties.default)(navigation, _excluded);\n        var dispatch = thunk => {\n          var action = typeof thunk === 'function' ? thunk(getState()) : thunk;\n          if (action != null) {\n            navigation.dispatch({\n              source: route.key,\n              ...action\n            });\n          }\n        };\n        var withStack = callback => {\n          var isStackSet = false;\n          try {\n            if (process.env.NODE_ENV !== 'production' && stackRef && !stackRef.current) {\n              // Capture the stack trace for devtools\n              stackRef.current = new Error().stack;\n              isStackSet = true;\n            }\n            callback();\n          } finally {\n            if (isStackSet && stackRef) {\n              stackRef.current = undefined;\n            }\n          }\n        };\n        var helpers = Object.keys(actions).reduce((acc, name) => {\n          acc[name] = function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            return withStack(() =>\n            // @ts-expect-error: name is a valid key, but TypeScript is dumb\n            dispatch(actions[name](...args)));\n          };\n          return acc;\n        }, {});\n        acc[route.key] = {\n          ...rest,\n          ...helpers,\n          // FIXME: too much work to fix the types for now\n          ...emitter.create(route.key),\n          dispatch: thunk => withStack(() => dispatch(thunk)),\n          getParent: id => {\n            if (id !== undefined && id === rest.getId()) {\n              // If the passed id is the same as the current navigation id,\n              // we return the cached navigation object for the relevant route\n              return acc[route.key];\n            }\n            return rest.getParent(id);\n          },\n          setOptions: options => setOptions(o => ({\n            ...o,\n            [route.key]: {\n              ...o[route.key],\n              ...options\n            }\n          })),\n          isFocused: () => {\n            var state = getState();\n            if (state.routes[state.index].key !== route.key) {\n              return false;\n            }\n\n            // If the current screen is focused, we also need to check if parent navigator is focused\n            // This makes sure that we return the focus state in the whole tree, not just this navigator\n            return navigation ? navigation.isFocused() : true;\n          }\n        };\n      }\n      return acc;\n    }, {});\n    return cache.current;\n  }\n});","lineCount":149,"map":[[28,2,50,15,"Object"],[28,8,50,15],[28,9,50,15,"defineProperty"],[28,23,50,15],[28,24,50,15,"exports"],[28,31,50,15],[29,4,50,15,"enumerable"],[29,14,50,15],[30,4,50,15,"get"],[30,7,50,15],[30,18,50,15,"get"],[30,19,50,15],[31,6,50,15],[31,13,50,15,"useNavigationCache"],[31,31,50,15],[32,4,50,15],[33,2,50,15],[34,2,175,1],[34,6,175,1,"_babelRuntimeHelpersObjectWithoutProperties"],[34,49,175,1],[34,52,175,1,"require"],[34,59,175,1],[34,60,175,1,"_dependencyMap"],[34,74,175,1],[35,2,175,1],[35,6,175,1,"_objectWithoutProperties"],[35,30,175,1],[35,33,175,1,"_interopDefault"],[35,48,175,1],[35,49,175,1,"_babelRuntimeHelpersObjectWithoutProperties"],[35,92,175,1],[36,2,1,0],[36,6,1,0,"_reactNavigationRouters"],[36,29,1,0],[36,32,1,0,"require"],[36,39,1,0],[36,40,1,0,"_dependencyMap"],[36,54,1,0],[37,2,8,0],[37,6,8,0,"_react"],[37,12,8,0],[37,15,8,0,"require"],[37,22,8,0],[37,23,8,0,"_dependencyMap"],[37,37,8,0],[38,2,8,0],[38,6,8,0,"React"],[38,11,8,0],[38,14,8,0,"_interopNamespace"],[38,31,8,0],[38,32,8,0,"_react"],[38,38,8,0],[39,2,10,0],[39,6,10,0,"_NavigationBuilderContext"],[39,31,10,0],[39,34,10,0,"require"],[39,41,10,0],[39,42,10,0,"_dependencyMap"],[39,56,10,0],[40,2,10,0],[40,6,10,0,"NavigationBuilderContext"],[40,30,10,0],[40,33,10,0,"_interopDefault"],[40,48,10,0],[40,49,10,0,"_NavigationBuilderContext"],[40,74,10,0],[41,2,45,0],[42,0,46,0],[43,0,47,0],[44,0,48,0],[45,0,49,0],[46,2,50,15],[46,11,50,24,"useNavigationCache"],[46,29,50,42,"useNavigationCache"],[46,30,50,42,"_ref"],[46,34,50,42],[46,36,61,29],[47,4,61,29],[47,8,55,2,"state"],[47,13,55,7],[47,16,55,7,"_ref"],[47,20,55,7],[47,21,55,2,"state"],[47,26,55,7],[48,6,56,2,"getState"],[48,14,56,10],[48,17,56,10,"_ref"],[48,21,56,10],[48,22,56,2,"getState"],[48,30,56,10],[49,6,57,2,"navigation"],[49,16,57,12],[49,19,57,12,"_ref"],[49,23,57,12],[49,24,57,2,"navigation"],[49,34,57,12],[50,6,58,2,"setOptions"],[50,16,58,12],[50,19,58,12,"_ref"],[50,23,58,12],[50,24,58,2,"setOptions"],[50,34,58,12],[51,6,59,2,"router"],[51,12,59,8],[51,15,59,8,"_ref"],[51,19,59,8],[51,20,59,2,"router"],[51,26,59,8],[52,6,60,2,"emitter"],[52,13,60,9],[52,16,60,9,"_ref"],[52,20,60,9],[52,21,60,2,"emitter"],[52,28,60,9],[53,4,62,2],[53,8,62,2,"_React$useContext"],[53,25,62,2],[53,28,62,23,"React"],[53,33,62,28],[53,34,62,29,"useContext"],[53,44,62,39],[53,45,62,40,"NavigationBuilderContext"],[53,69,62,64],[53,70,62,64,"default"],[53,77,62,64],[53,78,62,65],[54,6,62,10,"stackRef"],[54,14,62,18],[54,17,62,18,"_React$useContext"],[54,34,62,18],[54,35,62,10,"stackRef"],[54,43,62,18],[56,4,64,2],[57,4,65,2],[58,4,66,2],[59,4,67,2],[59,8,67,8,"cache"],[59,13,67,13],[59,16,67,16,"React"],[59,21,67,21],[59,22,67,22,"useMemo"],[59,29,67,29],[59,30,68,4],[59,37,68,11],[60,6,68,13,"current"],[60,13,68,20],[60,15,68,22],[60,16,68,23],[61,4,68,76],[61,5,68,77],[61,6,68,78],[62,4,69,4],[63,4,70,4],[63,5,70,5,"getState"],[63,13,70,13],[63,15,70,15,"navigation"],[63,25,70,25],[63,27,70,27,"setOptions"],[63,37,70,37],[63,39,70,39,"router"],[63,45,70,45],[63,47,70,47,"emitter"],[63,54,70,54],[63,55,71,2],[63,56,71,3],[64,4,73,2],[64,8,73,8,"actions"],[64,15,73,15],[64,18,73,18],[65,6,74,4],[65,9,74,7,"router"],[65,15,74,13],[65,16,74,14,"actionCreators"],[65,30,74,28],[66,6,75,4],[66,9,75,7,"CommonActions"],[66,32,75,20],[66,33,75,20,"CommonActions"],[67,4,76,2],[67,5,76,3],[68,4,78,2,"cache"],[68,9,78,7],[68,10,78,8,"current"],[68,17,78,15],[68,20,78,18,"state"],[68,25,78,23],[68,26,78,24,"routes"],[68,32,78,30],[68,33,78,31,"reduce"],[68,39,78,37],[68,40,80,4],[68,41,80,5,"acc"],[68,44,80,8],[68,46,80,10,"route"],[68,51,80,15],[68,56,80,20],[69,6,81,4],[69,10,81,10,"previous"],[69,18,81,18],[69,21,81,21,"cache"],[69,26,81,26],[69,27,81,27,"current"],[69,34,81,34],[69,35,81,35,"route"],[69,40,81,40],[69,41,81,41,"key"],[69,44,81,44],[69,45,81,45],[70,6,87,4],[70,10,87,8,"previous"],[70,18,87,16],[70,20,87,18],[71,8,88,6],[72,8,89,6,"acc"],[72,11,89,9],[72,12,89,10,"route"],[72,17,89,15],[72,18,89,16,"key"],[72,21,89,19],[72,22,89,20],[72,25,89,23,"previous"],[72,33,89,31],[73,6,90,4],[73,7,90,5],[73,13,90,11],[74,8,91,6],[75,8,92,6],[75,12,92,14,"emit"],[75,16,92,18],[75,19,92,32,"navigation"],[75,29,92,42],[75,30,92,14,"emit"],[75,34,92,18],[76,10,92,23,"rest"],[76,14,92,27],[76,21,92,27,"_objectWithoutProperties"],[76,45,92,27],[76,46,92,27,"default"],[76,53,92,27],[76,55,92,32,"navigation"],[76,65,92,42],[76,67,92,42,"_excluded"],[76,76,92,42],[77,8,94,6],[77,12,94,12,"dispatch"],[77,20,94,20],[77,23,94,24,"thunk"],[77,28,94,36],[77,32,94,41],[78,10,95,8],[78,14,95,14,"action"],[78,20,95,20],[78,23,95,23],[78,30,95,30,"thunk"],[78,35,95,35],[78,40,95,40],[78,50,95,50],[78,53,95,53,"thunk"],[78,58,95,58],[78,59,95,59,"getState"],[78,67,95,67],[78,68,95,68],[78,69,95,69],[78,70,95,70],[78,73,95,73,"thunk"],[78,78,95,78],[79,10,97,8],[79,14,97,12,"action"],[79,20,97,18],[79,24,97,22],[79,28,97,26],[79,30,97,28],[80,12,98,10,"navigation"],[80,22,98,20],[80,23,98,21,"dispatch"],[80,31,98,29],[80,32,98,30],[81,14,98,32,"source"],[81,20,98,38],[81,22,98,40,"route"],[81,27,98,45],[81,28,98,46,"key"],[81,31,98,49],[82,14,98,51],[82,17,98,54,"action"],[83,12,98,61],[83,13,98,62],[83,14,98,63],[84,10,99,8],[85,8,100,6],[85,9,100,7],[86,8,102,6],[86,12,102,12,"withStack"],[86,21,102,21],[86,24,102,25,"callback"],[86,32,102,45],[86,36,102,50],[87,10,103,8],[87,14,103,12,"isStackSet"],[87,24,103,22],[87,27,103,25],[87,32,103,30],[88,10,105,8],[88,14,105,12],[89,12,106,10],[89,16,107,12,"process"],[89,23,107,19],[89,24,107,20,"env"],[89,27,107,23],[89,28,107,24,"NODE_ENV"],[89,36,107,32],[89,41,107,37],[89,53,107,49],[89,57,108,12,"stackRef"],[89,65,108,20],[89,69,109,12],[89,70,109,13,"stackRef"],[89,78,109,21],[89,79,109,22,"current"],[89,86,109,29],[89,88,110,12],[90,14,111,12],[91,14,112,12,"stackRef"],[91,22,112,20],[91,23,112,21,"current"],[91,30,112,28],[91,33,112,31],[91,37,112,35,"Error"],[91,42,112,40],[91,43,112,41],[91,44,112,42],[91,45,112,43,"stack"],[91,50,112,48],[92,14,113,12,"isStackSet"],[92,24,113,22],[92,27,113,25],[92,31,113,29],[93,12,114,10],[94,12,116,10,"callback"],[94,20,116,18],[94,21,116,19],[94,22,116,20],[95,10,117,8],[95,11,117,9],[95,20,117,18],[96,12,118,10],[96,16,118,14,"isStackSet"],[96,26,118,24],[96,30,118,28,"stackRef"],[96,38,118,36],[96,40,118,38],[97,14,119,12,"stackRef"],[97,22,119,20],[97,23,119,21,"current"],[97,30,119,28],[97,33,119,31,"undefined"],[97,42,119,40],[98,12,120,10],[99,10,121,8],[100,8,122,6],[100,9,122,7],[101,8,124,6],[101,12,124,12,"helpers"],[101,19,124,19],[101,22,124,22,"Object"],[101,28,124,28],[101,29,124,29,"keys"],[101,33,124,33],[101,34,124,34,"actions"],[101,41,124,41],[101,42,124,42],[101,43,124,43,"reduce"],[101,49,124,49],[101,50,125,8],[101,51,125,9,"acc"],[101,54,125,12],[101,56,125,14,"name"],[101,60,125,18],[101,65,125,23],[102,10,126,10,"acc"],[102,13,126,13],[102,14,126,14,"name"],[102,18,126,18],[102,19,126,19],[102,22,126,22],[103,12,126,22],[103,21,126,22,"_len"],[103,25,126,22],[103,28,126,22,"arguments"],[103,37,126,22],[103,38,126,22,"length"],[103,44,126,22],[103,46,126,26,"args"],[103,50,126,30],[103,57,126,30,"Array"],[103,62,126,30],[103,63,126,30,"_len"],[103,67,126,30],[103,70,126,30,"_key"],[103,74,126,30],[103,80,126,30,"_key"],[103,84,126,30],[103,87,126,30,"_len"],[103,91,126,30],[103,93,126,30,"_key"],[103,97,126,30],[104,14,126,26,"args"],[104,18,126,30],[104,19,126,30,"_key"],[104,23,126,30],[104,27,126,30,"arguments"],[104,36,126,30],[104,37,126,30,"_key"],[104,41,126,30],[105,12,126,30],[106,12,126,30],[106,19,127,12,"withStack"],[106,28,127,21],[106,29,127,22],[107,12,128,14],[108,12,129,14,"dispatch"],[108,20,129,22],[108,21,129,23,"actions"],[108,28,129,30],[108,29,129,31,"name"],[108,33,129,35],[108,34,129,36],[108,35,129,37],[108,38,129,40,"args"],[108,42,129,44],[108,43,129,45],[108,44,130,12],[108,45,130,13],[109,10,130,13],[110,10,132,10],[110,17,132,17,"acc"],[110,20,132,20],[111,8,133,8],[111,9,133,9],[111,11,134,8],[111,12,134,9],[111,13,135,6],[111,14,135,7],[112,8,137,6,"acc"],[112,11,137,9],[112,12,137,10,"route"],[112,17,137,15],[112,18,137,16,"key"],[112,21,137,19],[112,22,137,20],[112,25,137,23],[113,10,138,8],[113,13,138,11,"rest"],[113,17,138,15],[114,10,139,8],[114,13,139,11,"helpers"],[114,20,139,18],[115,10,140,8],[116,10,141,8],[116,13,141,12,"emitter"],[116,20,141,19],[116,21,141,20,"create"],[116,27,141,26],[116,28,141,27,"route"],[116,33,141,32],[116,34,141,33,"key"],[116,37,141,36],[116,38,141,45],[117,10,142,8,"dispatch"],[117,18,142,16],[117,20,142,19,"thunk"],[117,25,142,31],[117,29,142,36,"withStack"],[117,38,142,45],[117,39,142,46],[117,45,142,52,"dispatch"],[117,53,142,60],[117,54,142,61,"thunk"],[117,59,142,66],[117,60,142,67],[117,61,142,68],[118,10,143,8,"getParent"],[118,19,143,17],[118,21,143,20,"id"],[118,23,143,31],[118,27,143,36],[119,12,144,10],[119,16,144,14,"id"],[119,18,144,16],[119,23,144,21,"undefined"],[119,32,144,30],[119,36,144,34,"id"],[119,38,144,36],[119,43,144,41,"rest"],[119,47,144,45],[119,48,144,46,"getId"],[119,53,144,51],[119,54,144,52],[119,55,144,53],[119,57,144,55],[120,14,145,12],[121,14,146,12],[122,14,147,12],[122,21,147,19,"acc"],[122,24,147,22],[122,25,147,23,"route"],[122,30,147,28],[122,31,147,29,"key"],[122,34,147,32],[122,35,147,33],[123,12,148,10],[124,12,150,10],[124,19,150,17,"rest"],[124,23,150,21],[124,24,150,22,"getParent"],[124,33,150,31],[124,34,150,32,"id"],[124,36,150,34],[124,37,150,35],[125,10,151,8],[125,11,151,9],[126,10,152,8,"setOptions"],[126,20,152,18],[126,22,152,21,"options"],[126,29,152,36],[126,33,153,10,"setOptions"],[126,43,153,20],[126,44,153,22,"o"],[126,45,153,23],[126,50,153,29],[127,12,154,12],[127,15,154,15,"o"],[127,16,154,16],[128,12,155,12],[128,13,155,13,"route"],[128,18,155,18],[128,19,155,19,"key"],[128,22,155,22],[128,25,155,25],[129,14,155,27],[129,17,155,30,"o"],[129,18,155,31],[129,19,155,32,"route"],[129,24,155,37],[129,25,155,38,"key"],[129,28,155,41],[129,29,155,42],[130,14,155,44],[130,17,155,47,"options"],[131,12,155,55],[132,10,156,10],[132,11,156,11],[132,12,156,12],[132,13,156,13],[133,10,157,8,"isFocused"],[133,19,157,17],[133,21,157,19,"isFocused"],[133,22,157,19],[133,27,157,25],[134,12,158,10],[134,16,158,16,"state"],[134,21,158,21],[134,24,158,24,"getState"],[134,32,158,32],[134,33,158,33],[134,34,158,34],[135,12,160,10],[135,16,160,14,"state"],[135,21,160,19],[135,22,160,20,"routes"],[135,28,160,26],[135,29,160,27,"state"],[135,34,160,32],[135,35,160,33,"index"],[135,40,160,38],[135,41,160,39],[135,42,160,40,"key"],[135,45,160,43],[135,50,160,48,"route"],[135,55,160,53],[135,56,160,54,"key"],[135,59,160,57],[135,61,160,59],[136,14,161,12],[136,21,161,19],[136,26,161,24],[137,12,162,10],[139,12,164,10],[140,12,165,10],[141,12,166,10],[141,19,166,17,"navigation"],[141,29,166,27],[141,32,166,30,"navigation"],[141,42,166,40],[141,43,166,41,"isFocused"],[141,52,166,50],[141,53,166,51],[141,54,166,52],[141,57,166,55],[141,61,166,59],[142,10,167,8],[143,8,168,6],[143,9,168,7],[144,6,169,4],[145,6,171,4],[145,13,171,11,"acc"],[145,16,171,14],[146,4,172,2],[146,5,172,3],[146,7,172,5],[146,8,172,6],[146,9,172,7],[146,10,172,8],[147,4,174,2],[147,11,174,9,"cache"],[147,16,174,14],[147,17,174,15,"current"],[147,24,174,22],[148,2,175,0],[149,0,175,1],[149,3]],"functionMap":{"names":["<global>","useNavigationCache","React.useMemo$argument_0","state.routes.reduce$argument_0","dispatch","withStack","Object.keys.reduce$argument_0","acc.name","withStack$argument_0","acc.route.key.dispatch","acc.route.key.getParent","acc.route.key.setOptions","setOptions$argument_0","acc.route.key.isFocused"],"mappings":"AAA;eCiD;ICkB,0ED;IEY;uBCc;ODM;wBEE;OFoB;QGG;sBCC;sBCC;8CDE;aDC;SHG;kBMS,4BD,qBC,CN;mBOC;SPQ;oBQC;qBCC;YDG,CR;mBUC;SVU;GFK;CDG"},"hasCjsExports":false},"type":"js/module"}]}