{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":81},"end":{"line":2,"column":31,"index":112}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./useNavigation","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":161},"end":{"line":5,"column":44,"index":205}}],"key":"6L4SFVR2tVRyIVbAZv8N2RYC398=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return useNavigationState;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[1], \"react\");\n  var React = _interopNamespace(_react);\n  var _useNavigation = require(_dependencyMap[2], \"./useNavigation\");\n  var useNavigation = _interopDefault(_useNavigation);\n  /**\n   * Hook to get a value from the current navigation state using a selector.\n   *\n   * @param selector Selector function to get a value from the state.\n   */\n  function useNavigationState(selector) {\n    var navigation = (0, useNavigation.default)();\n\n    // We don't care about the state value, we run the selector again at the end\n    // The state is only to make sure that there's a re-render when we have a new value\n    var _React$useState = React.useState(() => selector(navigation.getState())),\n      _React$useState2 = (0, _slicedToArray.default)(_React$useState, 2),\n      setResult = _React$useState2[1];\n\n    // We store the selector in a ref to avoid re-subscribing listeners every render\n    var selectorRef = React.useRef(selector);\n    React.useEffect(() => {\n      selectorRef.current = selector;\n    });\n    React.useEffect(() => {\n      var unsubscribe = navigation.addListener('state', e => {\n        setResult(selectorRef.current(e.data.state));\n      });\n      return unsubscribe;\n    }, [navigation]);\n    return selector(navigation.getState());\n  }\n});","lineCount":66,"map":[[27,2,16,15,"Object"],[27,8,16,15],[27,9,16,15,"defineProperty"],[27,23,16,15],[27,24,16,15,"exports"],[27,31,16,15],[28,4,16,15,"enumerable"],[28,14,16,15],[29,4,16,15,"get"],[29,7,16,15],[29,18,16,15,"get"],[29,19,16,15],[30,6,16,15],[30,13,16,15,"useNavigationState"],[30,31,16,15],[31,4,16,15],[32,2,16,15],[33,2,41,1],[33,6,41,1,"_babelRuntimeHelpersSlicedToArray"],[33,39,41,1],[33,42,41,1,"require"],[33,49,41,1],[33,50,41,1,"_dependencyMap"],[33,64,41,1],[34,2,41,1],[34,6,41,1,"_slicedToArray"],[34,20,41,1],[34,23,41,1,"_interopDefault"],[34,38,41,1],[34,39,41,1,"_babelRuntimeHelpersSlicedToArray"],[34,72,41,1],[35,2,2,0],[35,6,2,0,"_react"],[35,12,2,0],[35,15,2,0,"require"],[35,22,2,0],[35,23,2,0,"_dependencyMap"],[35,37,2,0],[36,2,2,0],[36,6,2,0,"React"],[36,11,2,0],[36,14,2,0,"_interopNamespace"],[36,31,2,0],[36,32,2,0,"_react"],[36,38,2,0],[37,2,5,0],[37,6,5,0,"_useNavigation"],[37,20,5,0],[37,23,5,0,"require"],[37,30,5,0],[37,31,5,0,"_dependencyMap"],[37,45,5,0],[38,2,5,0],[38,6,5,0,"useNavigation"],[38,19,5,0],[38,22,5,0,"_interopDefault"],[38,37,5,0],[38,38,5,0,"_useNavigation"],[38,52,5,0],[39,2,11,0],[40,0,12,0],[41,0,13,0],[42,0,14,0],[43,0,15,0],[44,2,16,15],[44,11,16,24,"useNavigationState"],[44,29,16,42,"useNavigationState"],[44,30,17,2,"selector"],[44,38,17,34],[44,40,18,5],[45,4,19,2],[45,8,19,8,"navigation"],[45,18,19,18],[45,21,19,21],[45,25,19,21,"useNavigation"],[45,38,19,34],[45,39,19,34,"default"],[45,46,19,34],[45,48,19,62],[45,49,19,63],[47,4,21,2],[48,4,22,2],[49,4,23,2],[49,8,23,2,"_React$useState"],[49,23,23,2],[49,26,23,24,"React"],[49,31,23,29],[49,32,23,30,"useState"],[49,40,23,38],[49,41,23,39],[49,47,23,45,"selector"],[49,55,23,53],[49,56,23,54,"navigation"],[49,66,23,64],[49,67,23,65,"getState"],[49,75,23,73],[49,76,23,74],[49,77,23,75],[49,78,23,76],[49,79,23,77],[50,6,23,77,"_React$useState2"],[50,22,23,77],[50,29,23,77,"_slicedToArray"],[50,43,23,77],[50,44,23,77,"default"],[50,51,23,77],[50,53,23,77,"_React$useState"],[50,68,23,77],[51,6,23,11,"setResult"],[51,15,23,20],[51,18,23,20,"_React$useState2"],[51,34,23,20],[53,4,25,2],[54,4,26,2],[54,8,26,8,"selectorRef"],[54,19,26,19],[54,22,26,22,"React"],[54,27,26,27],[54,28,26,28,"useRef"],[54,34,26,34],[54,35,26,35,"selector"],[54,43,26,43],[54,44,26,44],[55,4,28,2,"React"],[55,9,28,7],[55,10,28,8,"useEffect"],[55,19,28,17],[55,20,28,18],[55,26,28,24],[56,6,29,4,"selectorRef"],[56,17,29,15],[56,18,29,16,"current"],[56,25,29,23],[56,28,29,26,"selector"],[56,36,29,34],[57,4,30,2],[57,5,30,3],[57,6,30,4],[58,4,32,2,"React"],[58,9,32,7],[58,10,32,8,"useEffect"],[58,19,32,17],[58,20,32,18],[58,26,32,24],[59,6,33,4],[59,10,33,10,"unsubscribe"],[59,21,33,21],[59,24,33,24,"navigation"],[59,34,33,34],[59,35,33,35,"addListener"],[59,46,33,46],[59,47,33,47],[59,54,33,54],[59,56,33,57,"e"],[59,57,33,58],[59,61,33,63],[60,8,34,6,"setResult"],[60,17,34,15],[60,18,34,16,"selectorRef"],[60,29,34,27],[60,30,34,28,"current"],[60,37,34,35],[60,38,34,36,"e"],[60,39,34,37],[60,40,34,38,"data"],[60,44,34,42],[60,45,34,43,"state"],[60,50,34,48],[60,51,34,49],[60,52,34,50],[61,6,35,4],[61,7,35,5],[61,8,35,6],[62,6,37,4],[62,13,37,11,"unsubscribe"],[62,24,37,22],[63,4,38,2],[63,5,38,3],[63,7,38,5],[63,8,38,6,"navigation"],[63,18,38,16],[63,19,38,17],[63,20,38,18],[64,4,40,2],[64,11,40,9,"selector"],[64,19,40,17],[64,20,40,18,"navigation"],[64,30,40,28],[64,31,40,29,"getState"],[64,39,40,37],[64,40,40,38],[64,41,40,39],[64,42,40,40],[65,2,41,0],[66,0,41,1],[66,3]],"functionMap":{"names":["<global>","useNavigationState","React.useState$argument_0","React.useEffect$argument_0","navigation.addListener$argument_1"],"mappings":"AAA;eCe;uCCO,qCD;kBEK;GFE;kBEE;wDCC;KDE;GFG;CDG"},"hasCjsExports":false},"type":"js/module"}]}