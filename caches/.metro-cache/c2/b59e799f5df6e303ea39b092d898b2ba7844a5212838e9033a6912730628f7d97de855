{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return getActionFromState;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  function getActionFromState(state, options) {\n    // Create a normalized configs object which will be easier to use\n    var normalizedConfig = options ? createNormalizedConfigItem(options) : {};\n    var routes = state.index != null ? state.routes.slice(0, state.index + 1) : state.routes;\n    if (routes.length === 0) {\n      return undefined;\n    }\n    if (!(routes.length === 1 && routes[0].key === undefined || routes.length === 2 && routes[0].key === undefined && routes[0].name === normalizedConfig?.initialRouteName && routes[1].key === undefined)) {\n      return {\n        type: 'RESET',\n        payload: state\n      };\n    }\n    var route = state.routes[state.index ?? state.routes.length - 1];\n    var current = route?.state;\n    var config = normalizedConfig?.screens?.[route?.name];\n    var params = {\n      ...route.params\n    };\n    var payload = route ? {\n      name: route.name,\n      path: route.path,\n      params\n    } : undefined;\n    while (current) {\n      if (current.routes.length === 0) {\n        return undefined;\n      }\n      var _routes = current.index != null ? current.routes.slice(0, current.index + 1) : current.routes;\n      var _route = _routes[_routes.length - 1];\n\n      // Explicitly set to override existing value when merging params\n      Object.assign(params, {\n        initial: undefined,\n        screen: undefined,\n        params: undefined,\n        state: undefined\n      });\n      if (_routes.length === 1 && _routes[0].key === undefined) {\n        params.initial = true;\n        params.screen = _route.name;\n      } else if (_routes.length === 2 && _routes[0].key === undefined && _routes[0].name === config?.initialRouteName && _routes[1].key === undefined) {\n        params.initial = false;\n        params.screen = _route.name;\n      } else {\n        params.state = current;\n        break;\n      }\n      if (_route.state) {\n        params.params = {\n          ..._route.params\n        };\n        params = params.params;\n      } else {\n        params.path = _route.path;\n        params.params = _route.params;\n      }\n      current = _route.state;\n      config = config?.screens?.[_route.name];\n    }\n    if (!payload) {\n      return;\n    }\n\n    // Try to construct payload for a `NAVIGATE` action from the state\n    // This lets us preserve the navigation state and not lose it\n    return {\n      type: 'NAVIGATE',\n      payload\n    };\n  }\n  var createNormalizedConfigItem = config => typeof config === 'object' && config != null ? {\n    initialRouteName: config.initialRouteName,\n    screens: config.screens != null ? createNormalizedConfigs(config.screens) : undefined\n  } : {};\n  var createNormalizedConfigs = options => Object.entries(options).reduce((acc, _ref) => {\n    var _ref2 = (0, _slicedToArray.default)(_ref, 2),\n      k = _ref2[0],\n      v = _ref2[1];\n    acc[k] = createNormalizedConfigItem(v);\n    return acc;\n  }, {});\n});","lineCount":102,"map":[[12,2,31,15,"Object"],[12,8,31,15],[12,9,31,15,"defineProperty"],[12,23,31,15],[12,24,31,15,"exports"],[12,31,31,15],[13,4,31,15,"enumerable"],[13,14,31,15],[14,4,31,15,"get"],[14,7,31,15],[14,18,31,15,"get"],[14,19,31,15],[15,6,31,15],[15,13,31,15,"getActionFromState"],[15,31,31,15],[16,4,31,15],[17,2,31,15],[18,2,137,1],[18,6,137,1,"_babelRuntimeHelpersSlicedToArray"],[18,39,137,1],[18,42,137,1,"require"],[18,49,137,1],[18,50,137,1,"_dependencyMap"],[18,64,137,1],[19,2,137,1],[19,6,137,1,"_slicedToArray"],[19,20,137,1],[19,23,137,1,"_interopDefault"],[19,38,137,1],[19,39,137,1,"_babelRuntimeHelpersSlicedToArray"],[19,72,137,1],[20,2,31,15],[20,11,31,24,"getActionFromState"],[20,29,31,42,"getActionFromState"],[20,30,32,2,"state"],[20,35,32,38],[20,37,33,2,"options"],[20,44,33,19],[20,46,34,70],[21,4,35,2],[22,4,36,2],[22,8,36,8,"normalizedConfig"],[22,24,36,24],[22,27,36,27,"options"],[22,34,36,34],[22,37,37,6,"createNormalizedConfigItem"],[22,63,37,32],[22,64,37,33,"options"],[22,71,37,71],[22,72,37,72],[22,75,38,6],[22,76,38,7],[22,77,38,8],[23,4,40,2],[23,8,40,8,"routes"],[23,14,40,14],[23,17,41,4,"state"],[23,22,41,9],[23,23,41,10,"index"],[23,28,41,15],[23,32,41,19],[23,36,41,23],[23,39,41,26,"state"],[23,44,41,31],[23,45,41,32,"routes"],[23,51,41,38],[23,52,41,39,"slice"],[23,57,41,44],[23,58,41,45],[23,59,41,46],[23,61,41,48,"state"],[23,66,41,53],[23,67,41,54,"index"],[23,72,41,59],[23,75,41,62],[23,76,41,63],[23,77,41,64],[23,80,41,67,"state"],[23,85,41,72],[23,86,41,73,"routes"],[23,92,41,79],[24,4,43,2],[24,8,43,6,"routes"],[24,14,43,12],[24,15,43,13,"length"],[24,21,43,19],[24,26,43,24],[24,27,43,25],[24,29,43,27],[25,6,44,4],[25,13,44,11,"undefined"],[25,22,44,20],[26,4,45,2],[27,4,47,2],[27,8,48,4],[27,10,49,7,"routes"],[27,16,49,13],[27,17,49,14,"length"],[27,23,49,20],[27,28,49,25],[27,29,49,26],[27,33,49,30,"routes"],[27,39,49,36],[27,40,49,37],[27,41,49,38],[27,42,49,39],[27,43,49,40,"key"],[27,46,49,43],[27,51,49,48,"undefined"],[27,60,49,57],[27,64,50,7,"routes"],[27,70,50,13],[27,71,50,14,"length"],[27,77,50,20],[27,82,50,25],[27,83,50,26],[27,87,51,8,"routes"],[27,93,51,14],[27,94,51,15],[27,95,51,16],[27,96,51,17],[27,97,51,18,"key"],[27,100,51,21],[27,105,51,26,"undefined"],[27,114,51,35],[27,118,52,8,"routes"],[27,124,52,14],[27,125,52,15],[27,126,52,16],[27,127,52,17],[27,128,52,18,"name"],[27,132,52,22],[27,137,52,27,"normalizedConfig"],[27,153,52,43],[27,155,52,45,"initialRouteName"],[27,171,52,61],[27,175,53,8,"routes"],[27,181,53,14],[27,182,53,15],[27,183,53,16],[27,184,53,17],[27,185,53,18,"key"],[27,188,53,21],[27,193,53,26,"undefined"],[27,202,53,36],[27,203,54,5],[27,205,55,4],[28,6,56,4],[28,13,56,11],[29,8,57,6,"type"],[29,12,57,10],[29,14,57,12],[29,21,57,19],[30,8,58,6,"payload"],[30,15,58,13],[30,17,58,15,"state"],[31,6,59,4],[31,7,59,5],[32,4,60,2],[33,4,62,2],[33,8,62,8,"route"],[33,13,62,13],[33,16,62,16,"state"],[33,21,62,21],[33,22,62,22,"routes"],[33,28,62,28],[33,29,62,29,"state"],[33,34,62,34],[33,35,62,35,"index"],[33,40,62,40],[33,44,62,44,"state"],[33,49,62,49],[33,50,62,50,"routes"],[33,56,62,56],[33,57,62,57,"length"],[33,63,62,63],[33,66,62,66],[33,67,62,67],[33,68,62,68],[34,4,64,2],[34,8,64,6,"current"],[34,15,64,56],[34,18,64,59,"route"],[34,23,64,64],[34,25,64,66,"state"],[34,30,64,71],[35,4,65,2],[35,8,65,6,"config"],[35,14,65,36],[35,17,65,39,"normalizedConfig"],[35,33,65,55],[35,35,65,57,"screens"],[35,42,65,64],[35,45,65,67,"route"],[35,50,65,72],[35,52,65,74,"name"],[35,56,65,78],[35,57,65,79],[36,4,66,2],[36,8,66,6,"params"],[36,14,66,12],[36,17,66,15],[37,6,66,17],[37,9,66,20,"route"],[37,14,66,25],[37,15,66,26,"params"],[38,4,66,33],[38,5,69,3],[39,4,71,2],[39,8,71,6,"payload"],[39,15,71,13],[39,18,71,16,"route"],[39,23,71,21],[39,26,72,6],[40,6,72,8,"name"],[40,10,72,12],[40,12,72,14,"route"],[40,17,72,19],[40,18,72,20,"name"],[40,22,72,24],[41,6,72,26,"path"],[41,10,72,30],[41,12,72,32,"route"],[41,17,72,37],[41,18,72,38,"path"],[41,22,72,42],[42,6,72,44,"params"],[43,4,72,51],[43,5,72,52],[43,8,73,6,"undefined"],[43,17,73,15],[44,4,75,2],[44,11,75,9,"current"],[44,18,75,16],[44,20,75,18],[45,6,76,4],[45,10,76,8,"current"],[45,17,76,15],[45,18,76,16,"routes"],[45,24,76,22],[45,25,76,23,"length"],[45,31,76,29],[45,36,76,34],[45,37,76,35],[45,39,76,37],[46,8,77,6],[46,15,77,13,"undefined"],[46,24,77,22],[47,6,78,4],[48,6,80,4],[48,10,80,10,"routes"],[48,17,80,16],[48,20,81,6,"current"],[48,27,81,13],[48,28,81,14,"index"],[48,33,81,19],[48,37,81,23],[48,41,81,27],[48,44,82,10,"current"],[48,51,82,17],[48,52,82,18,"routes"],[48,58,82,24],[48,59,82,25,"slice"],[48,64,82,30],[48,65,82,31],[48,66,82,32],[48,68,82,34,"current"],[48,75,82,41],[48,76,82,42,"index"],[48,81,82,47],[48,84,82,50],[48,85,82,51],[48,86,82,52],[48,89,83,10,"current"],[48,96,83,17],[48,97,83,18,"routes"],[48,103,83,24],[49,6,85,4],[49,10,85,10,"route"],[49,16,85,60],[49,19,86,6,"routes"],[49,26,86,12],[49,27,86,13,"routes"],[49,34,86,19],[49,35,86,20,"length"],[49,41,86,26],[49,44,86,29],[49,45,86,30],[49,46,86,31],[51,6,88,4],[52,6,89,4,"Object"],[52,12,89,10],[52,13,89,11,"assign"],[52,19,89,17],[52,20,89,18,"params"],[52,26,89,24],[52,28,89,26],[53,8,90,6,"initial"],[53,15,90,13],[53,17,90,15,"undefined"],[53,26,90,24],[54,8,91,6,"screen"],[54,14,91,12],[54,16,91,14,"undefined"],[54,25,91,23],[55,8,92,6,"params"],[55,14,92,12],[55,16,92,14,"undefined"],[55,25,92,23],[56,8,93,6,"state"],[56,13,93,11],[56,15,93,13,"undefined"],[57,6,94,4],[57,7,94,5],[57,8,94,6],[58,6,96,4],[58,10,96,8,"routes"],[58,17,96,14],[58,18,96,15,"length"],[58,24,96,21],[58,29,96,26],[58,30,96,27],[58,34,96,31,"routes"],[58,41,96,37],[58,42,96,38],[58,43,96,39],[58,44,96,40],[58,45,96,41,"key"],[58,48,96,44],[58,53,96,49,"undefined"],[58,62,96,58],[58,64,96,60],[59,8,97,6,"params"],[59,14,97,12],[59,15,97,13,"initial"],[59,22,97,20],[59,25,97,23],[59,29,97,27],[60,8,98,6,"params"],[60,14,98,12],[60,15,98,13,"screen"],[60,21,98,19],[60,24,98,22,"route"],[60,30,98,27],[60,31,98,28,"name"],[60,35,98,32],[61,6,99,4],[61,7,99,5],[61,13,99,11],[61,17,100,6,"routes"],[61,24,100,12],[61,25,100,13,"length"],[61,31,100,19],[61,36,100,24],[61,37,100,25],[61,41,101,6,"routes"],[61,48,101,12],[61,49,101,13],[61,50,101,14],[61,51,101,15],[61,52,101,16,"key"],[61,55,101,19],[61,60,101,24,"undefined"],[61,69,101,33],[61,73,102,6,"routes"],[61,80,102,12],[61,81,102,13],[61,82,102,14],[61,83,102,15],[61,84,102,16,"name"],[61,88,102,20],[61,93,102,25,"config"],[61,99,102,31],[61,101,102,33,"initialRouteName"],[61,117,102,49],[61,121,103,6,"routes"],[61,128,103,12],[61,129,103,13],[61,130,103,14],[61,131,103,15],[61,132,103,16,"key"],[61,135,103,19],[61,140,103,24,"undefined"],[61,149,103,33],[61,151,104,6],[62,8,105,6,"params"],[62,14,105,12],[62,15,105,13,"initial"],[62,22,105,20],[62,25,105,23],[62,30,105,28],[63,8,106,6,"params"],[63,14,106,12],[63,15,106,13,"screen"],[63,21,106,19],[63,24,106,22,"route"],[63,30,106,27],[63,31,106,28,"name"],[63,35,106,32],[64,6,107,4],[64,7,107,5],[64,13,107,11],[65,8,108,6,"params"],[65,14,108,12],[65,15,108,13,"state"],[65,20,108,18],[65,23,108,21,"current"],[65,30,108,28],[66,8,109,6],[67,6,110,4],[68,6,112,4],[68,10,112,8,"route"],[68,16,112,13],[68,17,112,14,"state"],[68,22,112,19],[68,24,112,21],[69,8,113,6,"params"],[69,14,113,12],[69,15,113,13,"params"],[69,21,113,19],[69,24,113,22],[70,10,113,24],[70,13,113,27,"route"],[70,19,113,32],[70,20,113,33,"params"],[71,8,113,40],[71,9,113,41],[72,8,114,6,"params"],[72,14,114,12],[72,17,114,15,"params"],[72,23,114,21],[72,24,114,22,"params"],[72,30,117,7],[73,6,118,4],[73,7,118,5],[73,13,118,11],[74,8,119,6,"params"],[74,14,119,12],[74,15,119,13,"path"],[74,19,119,17],[74,22,119,20,"route"],[74,28,119,25],[74,29,119,26,"path"],[74,33,119,30],[75,8,120,6,"params"],[75,14,120,12],[75,15,120,13,"params"],[75,21,120,19],[75,24,120,22,"route"],[75,30,120,27],[75,31,120,28,"params"],[75,37,120,34],[76,6,121,4],[77,6,123,4,"current"],[77,13,123,11],[77,16,123,14,"route"],[77,22,123,19],[77,23,123,20,"state"],[77,28,123,25],[78,6,124,4,"config"],[78,12,124,10],[78,15,124,13,"config"],[78,21,124,19],[78,23,124,21,"screens"],[78,30,124,28],[78,33,124,31,"route"],[78,39,124,36],[78,40,124,37,"name"],[78,44,124,41],[78,45,124,42],[79,4,125,2],[80,4,127,2],[80,8,127,6],[80,9,127,7,"payload"],[80,16,127,14],[80,18,127,16],[81,6,128,4],[82,4,129,2],[84,4,131,2],[85,4,132,2],[86,4,133,2],[86,11,133,9],[87,6,134,4,"type"],[87,10,134,8],[87,12,134,10],[87,22,134,20],[88,6,135,4,"payload"],[89,4,136,2],[89,5,136,3],[90,2,137,0],[91,2,139,0],[91,6,139,6,"createNormalizedConfigItem"],[91,32,139,32],[91,35,139,36,"config"],[91,41,139,71],[91,45,140,2],[91,52,140,9,"config"],[91,58,140,15],[91,63,140,20],[91,71,140,28],[91,75,140,32,"config"],[91,81,140,38],[91,85,140,42],[91,89,140,46],[91,92,141,6],[92,4,142,8,"initialRouteName"],[92,20,142,24],[92,22,142,26,"config"],[92,28,142,32],[92,29,142,33,"initialRouteName"],[92,45,142,49],[93,4,143,8,"screens"],[93,11,143,15],[93,13,144,10,"config"],[93,19,144,16],[93,20,144,17,"screens"],[93,27,144,24],[93,31,144,28],[93,35,144,32],[93,38,145,14,"createNormalizedConfigs"],[93,61,145,37],[93,62,145,38,"config"],[93,68,145,44],[93,69,145,45,"screens"],[93,76,145,52],[93,77,145,53],[93,80,146,14,"undefined"],[94,2,147,6],[94,3,147,7],[94,6,148,6],[94,7,148,7],[94,8,148,8],[95,2,150,0],[95,6,150,6,"createNormalizedConfigs"],[95,29,150,29],[95,32,150,33,"options"],[95,39,150,63],[95,43,151,2,"Object"],[95,49,151,8],[95,50,151,9,"entries"],[95,57,151,16],[95,58,151,17,"options"],[95,65,151,24],[95,66,151,25],[95,67,151,26,"reduce"],[95,73,151,32],[95,74,151,61],[95,75,151,62,"acc"],[95,78,151,65],[95,80,151,65,"_ref"],[95,84,151,65],[95,89,151,78],[96,4,151,78],[96,8,151,78,"_ref2"],[96,13,151,78],[96,20,151,78,"_slicedToArray"],[96,34,151,78],[96,35,151,78,"default"],[96,42,151,78],[96,44,151,78,"_ref"],[96,48,151,78],[97,6,151,68,"k"],[97,7,151,69],[97,10,151,69,"_ref2"],[97,15,151,69],[98,6,151,71,"v"],[98,7,151,72],[98,10,151,72,"_ref2"],[98,15,151,72],[99,4,152,4,"acc"],[99,7,152,7],[99,8,152,8,"k"],[99,9,152,9],[99,10,152,10],[99,13,152,13,"createNormalizedConfigItem"],[99,39,152,39],[99,40,152,40,"v"],[99,41,152,41],[99,42,152,42],[100,4,153,4],[100,11,153,11,"acc"],[100,14,153,14],[101,2,154,2],[101,3,154,3],[101,5,154,5],[101,6,154,6],[101,7,154,7],[101,8,154,8],[102,0,154,9],[102,3]],"functionMap":{"names":["<global>","getActionFromState","createNormalizedConfigItem","createNormalizedConfigs","Object.entries.reduce$argument_0"],"mappings":"AAA;eC8B;CD0G;mCEE;QFS;gCGE;6DCC;GDG,KH"},"hasCjsExports":false},"type":"js/module"}]}