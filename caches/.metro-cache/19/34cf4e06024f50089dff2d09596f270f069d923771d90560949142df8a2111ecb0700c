{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"./config","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":70,"index":85}}],"key":"apL7GyCxHQJfXSypmIMW0g+q+wo=","exportNames":["*"],"imports":1}},{"name":"./animationParser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":86},"end":{"line":4,"column":70,"index":156}}],"key":"veT8C2+eXrYleq+qf11HD5FuNqc=","exportNames":["*"],"imports":1}},{"name":"./transition/Linear.web","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":323},"end":{"line":11,"column":59,"index":382}}],"key":"XoWBgg1y+eP20Nbh6SDcQAhxVVw=","exportNames":["*"],"imports":1}},{"name":"./transition/Sequenced.web","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":383},"end":{"line":12,"column":65,"index":448}}],"key":"SGAIgwXKpB57X1LdAEgc7SSzCPc=","exportNames":["*"],"imports":1}},{"name":"./transition/Fading.web","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":13,"column":0,"index":449},"end":{"line":13,"column":59,"index":508}}],"key":"EgwY9SdYKUInFsF6St/hG9hWLws=","exportNames":["*"],"imports":1}},{"name":"./domUtils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":14,"column":0,"index":509},"end":{"line":14,"column":48,"index":557}}],"key":"0d4bIOSgNZHGMgw8FnUojmKgfKI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.createAnimationWithExistingTransform = createAnimationWithExistingTransform;\n  exports.TransitionGenerator = TransitionGenerator;\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _config = require(_dependencyMap[1], \"./config\");\n  var _animationParser = require(_dependencyMap[2], \"./animationParser\");\n  var _transitionLinearWeb = require(_dependencyMap[3], \"./transition/Linear.web\");\n  var _transitionSequencedWeb = require(_dependencyMap[4], \"./transition/Sequenced.web\");\n  var _transitionFadingWeb = require(_dependencyMap[5], \"./transition/Fading.web\");\n  var _domUtils = require(_dependencyMap[6], \"./domUtils\");\n  // Translate values are passed as numbers. However, if `translate` property receives number, it will not automatically\n  // convert it to `px`. Therefore if we want to keep existing transform we have to add 'px' suffix to each of translate values\n  // that are present inside transform.\n  function addPxToTranslate(existingTransform) {\n    // @ts-ignore `existingTransform` cannot be string because in that case\n    // we throw error in `extractTransformFromStyle`\n    var newTransform = existingTransform.map(transformProp => {\n      var newTransformProp = {};\n      for (var _ref of Object.entries(transformProp)) {\n        var _ref2 = (0, _slicedToArray.default)(_ref, 2);\n        var key = _ref2[0];\n        var value = _ref2[1];\n        if (key.includes('translate')) {\n          // @ts-ignore After many trials we decided to ignore this error - it says that we cannot use 'key' to index this object.\n          // Sadly it doesn't go away after using cast `key as keyof TransformProperties`.\n          newTransformProp[key] = `${value}px`;\n        } else {\n          // @ts-ignore same as above.\n          newTransformProp[key] = value;\n        }\n      }\n      return newTransformProp;\n    });\n    return newTransform;\n  }\n\n  // In order to keep existing transform throughout animation, we have to add it to each of keyframe step.\n  function addExistingTransform(newAnimationData, newTransform) {\n    for (var keyframeStepProperties of Object.values(newAnimationData.style)) {\n      if (!keyframeStepProperties.transform) {\n        // If transform doesn't exist, we add only transform that already exists\n        keyframeStepProperties.transform = newTransform;\n      } else {\n        // We insert existing transformations before ours.\n        Array.prototype.unshift.apply(keyframeStepProperties.transform, newTransform);\n      }\n    }\n  }\n\n  /**\n   *  Modifies default animation by preserving transformations that given element already contains.\n   *\n   * @param animationName - Name of the animation to be modified (e.g. `FadeIn`).\n   * @param existingTransform - Transform values that element already contains.\n   * @returns Animation parsed to keyframe string.\n   */\n  function createAnimationWithExistingTransform(animationName, existingTransform, layoutTransition) {\n    var newAnimationData;\n    if (layoutTransition) {\n      newAnimationData = layoutTransition;\n    } else {\n      if (!(animationName in _config.Animations)) {\n        return '';\n      }\n      newAnimationData = structuredClone(_config.AnimationsData[animationName]);\n    }\n    var keyframeName = generateNextCustomKeyframeName();\n    newAnimationData.name = keyframeName;\n    var newTransform = addPxToTranslate(existingTransform);\n    addExistingTransform(newAnimationData, newTransform);\n    var keyframe = (0, _animationParser.convertAnimationObjectToKeyframes)(newAnimationData);\n    (0, _domUtils.insertWebAnimation)(keyframeName, keyframe);\n    return keyframeName;\n  }\n  var customKeyframeCounter = 0;\n  function generateNextCustomKeyframeName() {\n    return `REA${customKeyframeCounter++}`;\n  }\n\n  /**\n   * Creates transition of given type, appends it to stylesheet and returns keyframe name.\n   *\n   * @param transitionType - Type of transition (e.g. LINEAR).\n   * @param transitionData - Object containing data for transforms (translateX, scaleX,...).\n   * @returns Keyframe name that represents transition.\n   */\n  function TransitionGenerator(transitionType, transitionData, existingTransform) {\n    var transitionKeyframeName = generateNextCustomKeyframeName();\n    var transitionObject;\n    switch (transitionType) {\n      case _config.TransitionType.LINEAR:\n        transitionObject = (0, _transitionLinearWeb.LinearTransition)(transitionKeyframeName, transitionData);\n        break;\n      case _config.TransitionType.SEQUENCED:\n        transitionObject = (0, _transitionSequencedWeb.SequencedTransition)(transitionKeyframeName, transitionData);\n        break;\n      case _config.TransitionType.FADING:\n        transitionObject = (0, _transitionFadingWeb.FadingTransition)(transitionKeyframeName, transitionData);\n        break;\n    }\n    if (existingTransform) {\n      return createAnimationWithExistingTransform('', existingTransform, transitionObject);\n    }\n    var transitionKeyframe = (0, _animationParser.convertAnimationObjectToKeyframes)(transitionObject);\n    (0, _domUtils.insertWebAnimation)(transitionKeyframeName, transitionKeyframe);\n    return transitionKeyframeName;\n  }\n});","lineCount":119,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,72,0,"exports"],[12,9,72,0],[12,10,72,0,"createAnimationWithExistingTransform"],[12,46,72,0],[12,49,72,0,"createAnimationWithExistingTransform"],[12,85,72,0],[13,2,116,0,"exports"],[13,9,116,0],[13,10,116,0,"TransitionGenerator"],[13,29,116,0],[13,32,116,0,"TransitionGenerator"],[13,51,116,0],[14,2,159,1],[14,6,159,1,"_babelRuntimeHelpersSlicedToArray"],[14,39,159,1],[14,42,159,1,"require"],[14,49,159,1],[14,50,159,1,"_dependencyMap"],[14,64,159,1],[15,2,159,1],[15,6,159,1,"_slicedToArray"],[15,20,159,1],[15,23,159,1,"_interopDefault"],[15,38,159,1],[15,39,159,1,"_babelRuntimeHelpersSlicedToArray"],[15,72,159,1],[16,2,3,0],[16,6,3,0,"_config"],[16,13,3,0],[16,16,3,0,"require"],[16,23,3,0],[16,24,3,0,"_dependencyMap"],[16,38,3,0],[17,2,4,0],[17,6,4,0,"_animationParser"],[17,22,4,0],[17,25,4,0,"require"],[17,32,4,0],[17,33,4,0,"_dependencyMap"],[17,47,4,0],[18,2,11,0],[18,6,11,0,"_transitionLinearWeb"],[18,26,11,0],[18,29,11,0,"require"],[18,36,11,0],[18,37,11,0,"_dependencyMap"],[18,51,11,0],[19,2,12,0],[19,6,12,0,"_transitionSequencedWeb"],[19,29,12,0],[19,32,12,0,"require"],[19,39,12,0],[19,40,12,0,"_dependencyMap"],[19,54,12,0],[20,2,13,0],[20,6,13,0,"_transitionFadingWeb"],[20,26,13,0],[20,29,13,0,"require"],[20,36,13,0],[20,37,13,0,"_dependencyMap"],[20,51,13,0],[21,2,14,0],[21,6,14,0,"_domUtils"],[21,15,14,0],[21,18,14,0,"require"],[21,25,14,0],[21,26,14,0,"_dependencyMap"],[21,40,14,0],[22,2,16,0],[23,2,17,0],[24,2,18,0],[25,2,19,0],[25,11,19,9,"addPxToTranslate"],[25,27,19,25,"addPxToTranslate"],[25,28,20,2,"existingTransform"],[25,45,20,62],[25,47,21,2],[26,4,24,2],[27,4,25,2],[28,4,26,2],[28,8,26,8,"newTransform"],[28,20,26,20],[28,23,26,23,"existingTransform"],[28,40,26,40],[28,41,26,41,"map"],[28,44,26,44],[28,45,27,5,"transformProp"],[28,58,27,35],[28,62,27,40],[29,6,28,6],[29,10,28,12,"newTransformProp"],[29,26,28,62],[29,29,28,65],[29,30,28,66],[29,31,28,67],[30,6,29,6],[30,15,29,6,"_ref"],[30,19,29,6],[30,23,29,33,"Object"],[30,29,29,39],[30,30,29,40,"entries"],[30,37,29,47],[30,38,29,48,"transformProp"],[30,51,29,61],[30,52,29,62],[30,54,29,64],[31,8,29,64],[31,12,29,64,"_ref2"],[31,17,29,64],[31,24,29,64,"_slicedToArray"],[31,38,29,64],[31,39,29,64,"default"],[31,46,29,64],[31,48,29,64,"_ref"],[31,52,29,64],[32,8,29,64],[32,12,29,18,"key"],[32,15,29,21],[32,18,29,21,"_ref2"],[32,23,29,21],[33,8,29,21],[33,12,29,23,"value"],[33,17,29,28],[33,20,29,28,"_ref2"],[33,25,29,28],[34,8,30,8],[34,12,30,12,"key"],[34,15,30,15],[34,16,30,16,"includes"],[34,24,30,24],[34,25,30,25],[34,36,30,36],[34,37,30,37],[34,39,30,39],[35,10,31,10],[36,10,32,10],[37,10,33,10,"newTransformProp"],[37,26,33,26],[37,27,33,27,"key"],[37,30,33,30],[37,31,33,31],[37,34,33,34],[37,37,33,37,"value"],[37,42,33,42],[37,46,33,46],[38,8,34,8],[38,9,34,9],[38,15,34,15],[39,10,35,10],[40,10,36,10,"newTransformProp"],[40,26,36,26],[40,27,36,27,"key"],[40,30,36,30],[40,31,36,31],[40,34,36,34,"value"],[40,39,36,39],[41,8,37,8],[42,6,38,6],[43,6,39,6],[43,13,39,13,"newTransformProp"],[43,29,39,29],[44,4,40,4],[44,5,41,2],[44,6,41,3],[45,4,43,2],[45,11,43,9,"newTransform"],[45,23,43,21],[46,2,44,0],[48,2,46,0],[49,2,47,0],[49,11,47,9,"addExistingTransform"],[49,31,47,29,"addExistingTransform"],[49,32,48,2,"newAnimationData"],[49,48,48,33],[49,50,49,2,"newTransform"],[49,62,49,50],[49,64,50,2],[50,4,51,2],[50,9,51,7],[50,13,51,13,"keyframeStepProperties"],[50,35,51,35],[50,39,51,39,"Object"],[50,45,51,45],[50,46,51,46,"values"],[50,52,51,52],[50,53,51,53,"newAnimationData"],[50,69,51,69],[50,70,51,70,"style"],[50,75,51,75],[50,76,51,76],[50,78,51,78],[51,6,52,4],[51,10,52,8],[51,11,52,9,"keyframeStepProperties"],[51,33,52,31],[51,34,52,32,"transform"],[51,43,52,41],[51,45,52,43],[52,8,53,6],[53,8,54,6,"keyframeStepProperties"],[53,30,54,28],[53,31,54,29,"transform"],[53,40,54,38],[53,43,54,41,"newTransform"],[53,55,54,53],[54,6,55,4],[54,7,55,5],[54,13,55,11],[55,8,56,6],[56,8,57,6,"Array"],[56,13,57,11],[56,14,57,12,"prototype"],[56,23,57,21],[56,24,57,22,"unshift"],[56,31,57,29],[56,32,57,30,"apply"],[56,37,57,35],[56,38,58,8,"keyframeStepProperties"],[56,60,58,30],[56,61,58,31,"transform"],[56,70,58,40],[56,72,59,8,"newTransform"],[56,84,60,6],[56,85,60,7],[57,6,61,4],[58,4,62,2],[59,2,63,0],[61,2,65,0],[62,0,66,0],[63,0,67,0],[64,0,68,0],[65,0,69,0],[66,0,70,0],[67,0,71,0],[68,2,72,7],[68,11,72,16,"createAnimationWithExistingTransform"],[68,47,72,52,"createAnimationWithExistingTransform"],[68,48,73,2,"animationName"],[68,61,73,23],[68,63,74,2,"existingTransform"],[68,80,74,62],[68,82,75,2,"layoutTransition"],[68,98,75,34],[68,100,76,2],[69,4,77,2],[69,8,77,6,"newAnimationData"],[69,24,77,22],[70,4,79,2],[70,8,79,6,"layoutTransition"],[70,24,79,22],[70,26,79,24],[71,6,80,4,"newAnimationData"],[71,22,80,20],[71,25,80,23,"layoutTransition"],[71,41,80,39],[72,4,81,2],[72,5,81,3],[72,11,81,9],[73,6,82,4],[73,10,82,8],[73,12,82,10,"animationName"],[73,25,82,23],[73,29,82,27,"Animations"],[73,36,82,37],[73,37,82,37,"Animations"],[73,47,82,37],[73,48,82,38],[73,50,82,40],[74,8,83,6],[74,15,83,13],[74,17,83,15],[75,6,84,4],[76,6,85,4,"newAnimationData"],[76,22,85,20],[76,25,85,23,"structuredClone"],[76,40,85,38],[76,41,85,39,"AnimationsData"],[76,48,85,53],[76,49,85,53,"AnimationsData"],[76,63,85,53],[76,64,85,54,"animationName"],[76,77,85,67],[76,78,85,68],[76,79,85,69],[77,4,86,2],[78,4,88,2],[78,8,88,8,"keyframeName"],[78,20,88,20],[78,23,88,23,"generateNextCustomKeyframeName"],[78,53,88,53],[78,54,88,54],[78,55,88,55],[79,4,90,2,"newAnimationData"],[79,20,90,18],[79,21,90,19,"name"],[79,25,90,23],[79,28,90,26,"keyframeName"],[79,40,90,38],[80,4,92,2],[80,8,92,8,"newTransform"],[80,20,92,20],[80,23,92,23,"addPxToTranslate"],[80,39,92,39],[80,40,92,40,"existingTransform"],[80,57,92,57],[80,58,92,58],[81,4,94,2,"addExistingTransform"],[81,24,94,22],[81,25,94,23,"newAnimationData"],[81,41,94,39],[81,43,94,41,"newTransform"],[81,55,94,53],[81,56,94,54],[82,4,96,2],[82,8,96,8,"keyframe"],[82,16,96,16],[82,19,96,19],[82,23,96,19,"convertAnimationObjectToKeyframes"],[82,39,96,52],[82,40,96,52,"convertAnimationObjectToKeyframes"],[82,73,96,52],[82,75,96,53,"newAnimationData"],[82,91,96,69],[82,92,96,70],[83,4,98,2],[83,8,98,2,"insertWebAnimation"],[83,17,98,20],[83,18,98,20,"insertWebAnimation"],[83,36,98,20],[83,38,98,21,"keyframeName"],[83,50,98,33],[83,52,98,35,"keyframe"],[83,60,98,43],[83,61,98,44],[84,4,100,2],[84,11,100,9,"keyframeName"],[84,23,100,21],[85,2,101,0],[86,2,103,0],[86,6,103,4,"customKeyframeCounter"],[86,27,103,25],[86,30,103,28],[86,31,103,29],[87,2,105,0],[87,11,105,9,"generateNextCustomKeyframeName"],[87,41,105,39,"generateNextCustomKeyframeName"],[87,42,105,39],[87,44,105,42],[88,4,106,2],[88,11,106,9],[88,17,106,15,"customKeyframeCounter"],[88,38,106,36],[88,40,106,38],[88,42,106,40],[89,2,107,0],[91,2,109,0],[92,0,110,0],[93,0,111,0],[94,0,112,0],[95,0,113,0],[96,0,114,0],[97,0,115,0],[98,2,116,7],[98,11,116,16,"TransitionGenerator"],[98,30,116,35,"TransitionGenerator"],[98,31,117,2,"transitionType"],[98,45,117,32],[98,47,118,2,"transitionData"],[98,61,118,32],[98,63,119,2,"existingTransform"],[98,80,119,61],[98,82,120,2],[99,4,121,2],[99,8,121,8,"transitionKeyframeName"],[99,30,121,30],[99,33,121,33,"generateNextCustomKeyframeName"],[99,63,121,63],[99,64,121,64],[99,65,121,65],[100,4,122,2],[100,8,122,6,"transitionObject"],[100,24,122,22],[101,4,124,2],[101,12,124,10,"transitionType"],[101,26,124,24],[102,6,125,4],[102,11,125,9,"TransitionType"],[102,18,125,23],[102,19,125,23,"TransitionType"],[102,33,125,23],[102,34,125,24,"LINEAR"],[102,40,125,30],[103,8,126,6,"transitionObject"],[103,24,126,22],[103,27,126,25],[103,31,126,25,"LinearTransition"],[103,51,126,41],[103,52,126,41,"LinearTransition"],[103,68,126,41],[103,70,127,8,"transitionKeyframeName"],[103,92,127,30],[103,94,128,8,"transitionData"],[103,108,129,6],[103,109,129,7],[104,8,130,6],[105,6,131,4],[105,11,131,9,"TransitionType"],[105,18,131,23],[105,19,131,23,"TransitionType"],[105,33,131,23],[105,34,131,24,"SEQUENCED"],[105,43,131,33],[106,8,132,6,"transitionObject"],[106,24,132,22],[106,27,132,25],[106,31,132,25,"SequencedTransition"],[106,54,132,44],[106,55,132,44,"SequencedTransition"],[106,74,132,44],[106,76,133,8,"transitionKeyframeName"],[106,98,133,30],[106,100,134,8,"transitionData"],[106,114,135,6],[106,115,135,7],[107,8,136,6],[108,6,137,4],[108,11,137,9,"TransitionType"],[108,18,137,23],[108,19,137,23,"TransitionType"],[108,33,137,23],[108,34,137,24,"FADING"],[108,40,137,30],[109,8,138,6,"transitionObject"],[109,24,138,22],[109,27,138,25],[109,31,138,25,"FadingTransition"],[109,51,138,41],[109,52,138,41,"FadingTransition"],[109,68,138,41],[109,70,139,8,"transitionKeyframeName"],[109,92,139,30],[109,94,140,8,"transitionData"],[109,108,141,6],[109,109,141,7],[110,8,142,6],[111,4,143,2],[112,4,145,2],[112,8,145,6,"existingTransform"],[112,25,145,23],[112,27,145,25],[113,6,146,4],[113,13,146,11,"createAnimationWithExistingTransform"],[113,49,146,47],[113,50,147,6],[113,52,147,8],[113,54,148,6,"existingTransform"],[113,71,148,23],[113,73,149,6,"transitionObject"],[113,89,150,4],[113,90,150,5],[114,4,151,2],[115,4,153,2],[115,8,153,8,"transitionKeyframe"],[115,26,153,26],[115,29,154,4],[115,33,154,4,"convertAnimationObjectToKeyframes"],[115,49,154,37],[115,50,154,37,"convertAnimationObjectToKeyframes"],[115,83,154,37],[115,85,154,38,"transitionObject"],[115,101,154,54],[115,102,154,55],[116,4,156,2],[116,8,156,2,"insertWebAnimation"],[116,17,156,20],[116,18,156,20,"insertWebAnimation"],[116,36,156,20],[116,38,156,21,"transitionKeyframeName"],[116,60,156,43],[116,62,156,45,"transitionKeyframe"],[116,80,156,63],[116,81,156,64],[117,4,158,2],[117,11,158,9,"transitionKeyframeName"],[117,33,158,31],[118,2,159,0],[119,0,159,1],[119,3]],"functionMap":{"names":["<global>","addPxToTranslate","existingTransform.map$argument_0","addExistingTransform","createAnimationWithExistingTransform","generateNextCustomKeyframeName","TransitionGenerator"],"mappings":"AAA;ACkB;ICQ;KDa;CDI;AGG;CHgB;OIS;CJ6B;AKI;CLE;OMS;CN2C"},"hasCjsExports":false},"type":"js/module"}]}